/*! For license information please see main.bf3beda7.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(j,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=C(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(k);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,E=!1,_=null,S=-1,j=5,T=-1;function C(){return!(t.unstable_now()-T<j)}function I(){if(null!==_){var e=t.unstable_now();T=e;var n=!0;try{n=_(!0,e)}finally{n?N():(E=!1,_=null)}}else E=!1}if("function"===typeof x)N=function(){x(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,N=function(){P.postMessage(null)}}else N=function(){y(I,0)};function D(e){_=e,E||(E=!0,N())}function R(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,R(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(k))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,M=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case _:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(mr){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,Ee=null;function _e(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=ki(t),ke(e.stateNode,e.type,t))}}function Se(e){Ne?Ee?Ee.push(e):Ee=[e]:Ne=e}function je(){if(Ne){var e=Ne,t=Ee;if(Ee=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ne||null!==Ee)&&(Ce(),je())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Le(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Oe=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Oe=!1,Me=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Nt,Et,_t,St=!1,jt=[],Tt=null,Ct=null,It=null,At=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=xi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),At.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<jt.length){zt(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Ct&&zt(Ct,e),null!==It&&zt(It,e),At.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=xt,s=qt.transition;qt.transition=null;try{xt=1,Gt(e,t,n,r)}finally{xt=i,qt.transition=s}}function Kt(e,t,n,r){var i=xt,s=qt.transition;qt.transition=null;try{xt=4,Gt(e,t,n,r)}finally{xt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Ot(Ct,e,t,n,r,i),!0;case"mouseover":return It=Ot(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Ot(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Jt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=xi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function _n(){return En}var Sn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Sn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var On=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Jn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function sr(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,xr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var jr=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ir=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Lr=Pr[Rr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(jr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Me;Oe=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=xi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,i=we(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case jr:case Tr:case Cr:l=yn;break;case Ir:l=In;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,xi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=h;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Jr(a,o,l,u,!1),null!==c&&null!==d&&Jr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Hn(o))if(Yn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(yr=y,vr=r,xr=null);break;case"focusout":xr=vr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Vn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(v=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Gr(r,x)).length&&(x=new bn(x,e,null,n,i),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=zn(n))&&(x.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Ur(a,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,si="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,pi="__reactProps$"+hi,mi="__reactContainer$"+hi,gi="__reactEvents$"+hi,yi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function xi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[fi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ki(e){return e[pi]||null}var Ni=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=Ni[Ei],Ni[Ei]=null,Ei--)}function ji(e,t){Ei++,Ni[Ei]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ii=_i(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ii),Si(Ci)}function Li(e,t,n){if(Ci.current!==Ti)throw Error(s(168));ji(Ci,t),ji(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,ji(Ci,e),ji(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ii),Si(Ci),ji(Ci,e)):Si(Ii),ji(Ii,n)}var Ui=null,Vi=!1,zi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=xt;try{var n=Ui;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,qi),i}finally{xt=t,zi=!1}}return null}var Hi=[],Wi=0,Ki=null,Gi=0,Qi=[],Ji=0,$i=null,Yi=1,Xi="";function Zi(e,t){Hi[Wi++]=Gi,Hi[Wi++]=Ki,Ki=e,Gi=t}function es(e,t,n){Qi[Ji++]=Yi,Qi[Ji++]=Xi,Qi[Ji++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function ts(e){null!==e.return&&(Zi(e,1),es(e,1,0))}function ns(e){for(;e===Ki;)Ki=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===$i;)$i=Qi[--Ji],Qi[Ji]=null,Xi=Qi[--Ji],Qi[Ji]=null,Yi=Qi[--Ji],Qi[Ji]=null}var rs=null,is=null,ss=!1,as=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(ss){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=ui(n.nextSibling);var r=rs;t&&ls(e,t)?os(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function hs(e){if(e!==rs)return!1;if(!ss)return ds(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?ui(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=ui(e.nextSibling)}function ps(){is=rs=null,ss=!1}function ms(e){null===as?as=[e]:as.push(e)}var gs=b.ReactCurrentBatchConfig;function ys(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&xs(s)===t.type)?((r=i(t,n.props)).ref=ys(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ys(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ys(e,null,t),n.return=e,n;case k:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),ss&&Zi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return ss&&Zi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ss&&Zi(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(i,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(i,m),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(i,m),ss&&Zi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return ss&&Zi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),ss&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&xs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=ys(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((s=Oc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=ys(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),ks=bs(!1),Ns=_i(null),Es=null,_s=null,Ss=null;function js(){Ss=_s=Es=null}function Ts(e){var t=Ns.current;Si(Ns),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Es=e,Ss=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===Es)throw Error(s(308));_s=e,Es.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ps=null;function Ds(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Ks=_i(Ws),Gs=_i(Ws),Qs=_i(Ws);function Js(e){if(e===Ws)throw Error(s(174));return e}function $s(e,t){switch(ji(Qs,t),ji(Gs,e),ji(Ks,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ks),ji(Ks,t)}function Ys(){Si(Ks),Si(Gs),Si(Qs)}function Xs(e){Js(Qs.current);var t=Js(Ks.current),n=le(t,e.type);t!==n&&(ji(Gs,e),ji(Ks,n))}function Zs(e){Gs.current===e&&(Si(Ks),Si(Gs))}var ea=_i(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=b.ReactCurrentDispatcher,sa=b.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(s(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:eo,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(s(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=to,e=n(r,i)}while(da)}if(ia.current=Xa,t=null!==la&&null!==la.next,aa=0,ca=la=oa=null,ua=!1,t)throw Error(s(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?oa.memoizedState=ca=e:ca=ca.next=e,ca}function xa(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?oa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(s(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?oa.memoizedState=ca=e:ca=ca.next=e}return ca}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,oa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Ea(e,t){var n=oa,r=xa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Oa(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,Sa.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&aa)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ca(e)}function ja(e,t,n){return n(function(){Ta(t)&&Ca(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ls(e,1);null!==t&&rc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,oa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return xa().memoizedState}function Da(e,t,n,r){var i=va();oa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=xa();r=void 0===r?null:r;var s=void 0;if(null!==la){var a=la.memoizedState;if(s=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}oa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function La(e,t){return Da(8390656,8,e,t)}function Oa(e,t){return Ra(2048,8,e,t)}function Ma(e,t){return Ra(4,2,e,t)}function Fa(e,t){return Ra(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Ua.bind(null,t,e),n)}function za(){}function Ba(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),oa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Wa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{xt=n,sa.transition=r}}function Ka(){return xa().memoizedState}function Ga(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))$a(t,n);else if(null!==(n=Rs(e,t,n,r))){rc(n,e,r,tc()),Ya(n,t,r)}}function Qa(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))$a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(rc(n,e,r,i=tc()),Ya(n,t,r))}}function Ja(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function $a(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xa={readContext:As,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:As,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,i=va();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&aa)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(ja.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Il.identifierPrefix;if(ss){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:As,useCallback:Ba,useContext:As,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:qa,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:za,useDeferredValue:function(e){return Ha(xa(),la.memoizedState,e)},useTransition:function(){return[wa(ba)[0],xa().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ea,useId:Ka,unstable_isNewReconciler:!1},to={readContext:As,useCallback:Ba,useContext:As,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:qa,useReducer:ka,useRef:Pa,useState:function(){return ka(ba)},useDebugValue:za,useDeferredValue:function(e){var t=xa();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[ka(ba)[0],xa().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ea,useId:Ka,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(rc(t,e,r,n),zs(t,e,r))}};function so(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function ao(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Di(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Di(t)?Ai:Ci.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&io.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ho(0,t)},n}function mo(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xo=b.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?ks(t,null,n,r):ws(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ga(e,t,n,r,s,i),n=ya(),null===e||bo?(ss&&n&&ts(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function No(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return jo(e,t,n,r,i)}function _o(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ji(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ji(Rl,Dl),Dl|=r;return wo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,i){var s=Di(n)?Ai:Ci.current;return s=Pi(t,s),Is(t,i),n=ga(e,t,n,r,s,i),r=ya(),null===e||bo?(ss&&r&&ts(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function To(e,t,n,r,i){if(Di(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ho(e,t),ao(t,n,r),lo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Pi(t,c=Di(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Os=!1;var h=t.memoizedState;a.state=h,qs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ii.current||Os?("function"===typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=Os||so(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Pi(t,l=Di(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&oo(t,a,r,l),Os=!1,h=t.memoizedState,a.state=h,qs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ii.current||Os?("function"===typeof f&&(ro(t,n,f,r),p=t.memoizedState),(c=Os||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Wo(e,t,s);r=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),$s(e,t.containerInfo)}function Ao(e,t,n,r,i){return ps(),ms(i),t.flags|=256,wo(e,t,n,r),t.child}var Po,Do,Ro,Lo,Oo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=ea.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(ea,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Oo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ls(e,i),rc(r,e,i,-1))}return gc(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,is=ui(i.nextSibling),rs=t,ss=!0,as=null,null!==e&&(Qi[Ji++]=Yi,Qi[Ji++]=Xi,Qi[Ji++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ms(r),ws(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Di(t.type)&&Ri(),Go(t),null;case 3:return r=t.stateNode,Ys(),Si(Ii),Si(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==as&&(oc(as),as=null))),Do(e,t),Go(t),null;case 5:Zs(t);var i=Js(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Js(Ks.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=J(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Qs.current),Js(Ks.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Go(t),null;case 13:if(Si(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ps(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[fi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==as&&(oc(as),as=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Ys(),Do(e,t),null===e&&qr(t.stateNode.containerInfo),Go(t),null;case 10:return Ts(t.type._context),Go(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>ql&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ss)return Go(t),null}else 2*Ye()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,ji(ea,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ns(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Si(Ii),Si(Ci),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return Ys(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Ks.current);var s,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[gi],delete t[yi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Yo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,fl(e,t,n),Yo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){_c(e,e.return,g)}try{rl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){_c(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){_c(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,gl(t,e),Yo=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Zo=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$o;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=$o;var c=Yo;if($o=a,(Yo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Nl(i):null!==l?(l.return=a,Zo=l):Nl(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,$o=o,Yo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&sl(t)}catch(f){_c(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function kl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Nl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var s=t.return;try{sl(t)}catch(l){_c(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var El,_l=Math.ceil,Sl=b.ReactCurrentDispatcher,jl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Cl=0,Il=null,Al=null,Pl=0,Dl=0,Rl=_i(0),Ll=0,Ol=null,Ml=0,Fl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Jl=null,$l=0,Yl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Cl)?Ye():-1!==Zl?Zl:Zl=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===ec&&(ec=mt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Fl|=n),4===Ll&&lc(e,Pl)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Ye()+500,Vi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Il?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi(function(){0===(6&Cl)&&qi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cl;Cl|=2;var a=mc();for(Il===e&&Pl===t||(Hl=null,ql=Ye()+500,fc(e,t));;)try{xc();break}catch(l){pc(e,l)}js(),Sl.current=a,Cl=i,null!==Al?t=0:(Il=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ol,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ol,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:kc(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(kc.bind(null,e,zl,Hl),t);break}kc(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ii(kc.bind(null,e,zl,Hl),r);break}kc(e,zl,Hl);break;default:throw Error(s(329))}}}return ic(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));Nc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ol,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,zl,Hl),ic(e,Ye()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Ye()+500,Vi&&qi())}}function dc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&Nc();var t=Cl;Cl|=1;var n=Tl.transition,r=xt;try{if(Tl.transition=null,xt=1,e)return e()}finally{xt=r,Tl.transition=n,0===(6&(Cl=t))&&qi()}}function hc(){Dl=Rl.current,Si(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),Si(Ii),Si(Ci),ra();break;case 5:Zs(r);break;case 4:Ys();break;case 13:case 19:Si(ea);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Al=e=Rc(e.current,null),Pl=Dl=t,Ll=0,Ol=null,Ul=Fl=Ml=0,zl=Vl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function pc(e,t){for(;;){var n=Al;try{if(js(),ia.current=Xa,ua){for(var r=oa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=oa=null,da=!1,ha=0,jl.current=null,null===n||null===n.return){Ll=1,Ol=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),ms(co(c,l));break e}}a=c=co(c,l),4!==Ll&&(Ll=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,po(0,c,t));break e;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=Xa,null===e?Xa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Il,Pl)}function yc(e,t){var n=Cl;Cl|=2;var r=mc();for(Il===e&&Pl===t||(Hl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(js(),Cl=n,Sl.current=r,null!==Al)throw Error(s(261));return Il=null,Pl=0,Ll}function vc(){for(;null!==Al;)bc(Al)}function xc(){for(;null!==Al&&!Je();)bc(Al)}function bc(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function kc(e,t,n){var r=xt,i=Tl.transition;try{Tl.transition=null,xt=1,function(e,t,n,r){do{Nc()}while(null!==Jl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Il&&(Al=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ic(tt,function(){return Nc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=xt;xt=1;var l=Cl;Cl|=4,jl.current=null,function(e,t){if(ti=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ni),Ht=!!ti,ni=ti=null,e.current=n,xl(n,e,i),$e(),Cl=l,xt=o,Tl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Jl=e,$l=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Nc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,qi()}(e,t,n,r)}finally{Tl.transition=i,xt=r}return null}function Nc(){if(null!==Jl){var e=bt($l),t=Tl.transition,n=xt;try{if(Tl.transition=null,xt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,$l=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(al(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zo=v;break e}Zo=a.return}}var x=e.current;for(Zo=x;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=x;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(k){_c(l,l.return,k)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Cl=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{xt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=Vs(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Vs(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Ye()-Bl?fc(e,0):Ul|=n),ic(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ls(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),jc(e,n)}function Ic(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Oc(n.children,i,a,t);case E:o=8,i|=8;break;case _:return(e=Pc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case C:return(e=Pc(13,n,t,i)).elementType=C,e.lanes=a,e;case I:return(e=Pc(19,n,t,i)).elementType=I,e.lanes=a,e;case D:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case j:o=9;break e;case T:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Us(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(rc(e,i,a,s),zs(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),ps();break;case 5:Xs(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(Ns,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(ji(ea,1&ea.current),null!==(e=Wo(e,t,n))?e.sibling:null);ji(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ss&&0!==(1048576&t.flags)&&es(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Is(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=io,t.stateNode=i,i._reactInternals=t,lo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,ss&&a&&ts(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=no(r,e),i){case 0:t=jo(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=ko(null,t,r,e,n);break e;case 14:t=No(null,t,r,no(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:no(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:no(r,i),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),qs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=co(Error(s(424)),t));break e}for(is=ui(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,as=null,n=ks(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Wo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ri(r,i)?o=null:null!==a&&ri(r,a)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fo(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:no(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ji(Ns,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Us(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=no(r=t.type,t.pendingProps),No(e,t,r,i=no(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:no(r,i),Ho(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Is(t,n),ao(t,r,i),lo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return _o(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[mi]=a.current,qr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mi]=l.current,qr(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(a)}$c.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},$c.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[mi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Ye()),0===(6&Cl)&&(ql=Ye()+500,qi()))}break;case 13:dc(function(){var t=Ls(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=nc(e),n=Ls(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ce=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,ki,Se,je,uc]},nu={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[mi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,h=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:t})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),h=e,()=>{s.removeEventListener(u,v),h=null}},createHref:e=>t(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=y()+1;let c=f(i,g),u=b.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}a&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=y();let s=f(i,g),c=b.createHref(i);o.replaceState(s,"",c),a&&h&&h({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=D(i);a=A(s[o],e,r)}return a}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=k(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,E=3,_=2,S=1,j=10,T=-2,C=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=_),n.filter(e=>!C(e)).reduce((e,t)=>e+(N.test(t)?E:""===t?S:j),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:U([s,u.pathname]),pathnameBase:V(U([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=U([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const J=i.createContext(null);const $=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Z(){return null!=i.useContext($)}function ee(){return Z()||d(!1),i.useContext($).location}function te(e){i.useContext(J).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);return te(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t])}():function(){Z()||d(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(J),{matches:s}=i.useContext(Y),{pathname:a}=ee(),o=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return te(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(J),{matches:s}=i.useContext(Y),{pathname:a}=ee(),o=JSON.stringify(M(s,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function ie(e,t,n,s){Z()||d(!1);let{navigator:a}=i.useContext(J),{matches:o}=i.useContext(Y),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=x(e,{pathname:y});let b=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&b?i.createElement($.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function se(){let e=function(){var e;let t=i.useContext(X),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ae=i.createElement(se,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(G);return t||d(!1),t}function fe(e){let t=i.useContext(Q);return t||d(!1),t}function pe(e){let t=function(){let e=i.useContext(Y);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||d(!1);let{future:a,static:o}=i.useContext(J),{matches:l}=i.useContext(Y),{pathname:c}=ee(),u=ne(),h=F(t,M(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ve(e){d(!1)}function xe(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=s,x=i.useMemo(()=>{let e=R(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:a}},[u,f,p,m,y,v,a]);return null==x?null:i.createElement(J.Provider,{value:h},i.createElement($.Provider,{children:n,value:x}))}function be(e){let{children:t,location:n}=e;return ie(we(t),n)}new Promise(()=>{});i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,s)),n.push(a)}),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(zg){}new Map;const _e=s.startTransition;l.flushSync,s.useId;function Se(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback(e=>{d&&_e?_e(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>ge(r),[r]),i.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ne(e,Ee),{basename:g}=i.useContext(J),y=!1;if("string"===typeof u&&Te.test(u)&&(n=u,je))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(zg){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:s}=i.useContext(J),{hash:a,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),x=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return i.createElement("a",ke({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Ie,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function De(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Re(e,t,n){return(t=De(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){Re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Me(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe=n(579);const Ue=["as","variant","size","className","children"],Ve={primary:"text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 shadow-lg shadow-primary-500/20",secondary:"text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",danger:"text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",ghost:"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"},ze={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-5 py-3 text-base"};function Be(e){let{as:t="button",variant:n="primary",size:r="md",className:i="",children:s}=e,a=Me(e,Ue);const o="".concat("inline-flex items-center justify-center gap-2 rounded-xl font-semibold transition-all duration-200 focus-ring"," ").concat(Ve[n]||Ve.primary," ").concat(ze[r]||ze.md," ").concat(i);return(0,Fe.jsx)(t,Oe(Oe({className:o},a),{},{children:s}))}const qe=["className"];function He(e){let{className:t=""}=e,n=Me(e,qe);const r="block w-full px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ".concat(t);return(0,Fe.jsx)("input",Oe({className:r},n))}const We=e=>{let{onLogin:t}=e;const[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);return(0,Fe.jsxs)("div",{className:"min-h-screen relative flex items-center justify-center bg-gradient-to-br from-gray-50 via-blue-50/30 to-gray-50 overflow-hidden",children:[(0,Fe.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Fe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-200/20 rounded-full animate-float"}),(0,Fe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-300/20 rounded-full animate-float",style:{animationDelay:"2s"}}),(0,Fe.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary-100/10 to-primary-200/10 rounded-full animate-pulse-slow"})]}),(0,Fe.jsxs)("div",{className:"relative max-w-md w-full space-y-8 p-8 animate-fade-in-up",children:[(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"flex justify-center mb-6 animate-bounce-in",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 bg-primary-500/20 rounded-full animate-ping"}),(0,Fe.jsxs)("div",{className:"relative flex items-center gap-3 p-4 bg-white rounded-2xl shadow-lg shadow-blue-500/25",children:[(0,Fe.jsx)("svg",{className:"h-8 w-8 text-primary animate-float",fill:"currentColor",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M158.9,89.16l-32-18-32,18L26.3,121.84,128,183.33l101.7-61.49ZM128,34,32.23,92.4,128,150.8,223.77,92.4ZM232,104.75v50.5a8,8,0,0,1-4.37,7.26l-96,54.86a7.9,7.9,0,0,1-7.26,0l-96-54.86A8,8,0,0,1,24,155.25v-50.5a8,8,0,0,1,4.37-7.26L52,83.17V144a8,8,0,0,0,16,0V100.8l52.37,29.93a8,8,0,0,0,7.26,0L180,100.8V144a8,8,0,0,0,16,0V83.17l23.63,14.32A8,8,0,0,1,232,104.75Z"})}),(0,Fe.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent",children:"Apexsoft"})]})]})}),(0,Fe.jsx)("h2",{className:"text-3xl font-extrabold text-gray-800 animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Welcome Back"}),(0,Fe.jsx)("p",{className:"mt-2 text-gray-600 animate-fade-in-up",style:{animationDelay:"0.4s"},children:"Sign in to access your admin dashboard"})]}),(0,Fe.jsxs)("form",{className:"mt-8 space-y-6 animate-fade-in-up",style:{animationDelay:"0.6s"},onSubmit:async e=>{e.preventDefault(),u(!0),l(""),setTimeout(()=>{t(n,s)||l("Invalid email or password"),u(!1)},1e3)},children:[(0,Fe.jsx)("div",{className:"bg-white rounded-2xl shadow-lg shadow-gray-200/50 p-6 space-y-6 border border-gray-100",children:(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"animate-fade-in-up",style:{animationDelay:"0.8s"},children:[(0,Fe.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,Fe.jsx)(He,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 py-3",placeholder:"Enter your email address",value:n,onChange:e=>r(e.target.value)})]})]}),(0,Fe.jsxs)("div",{className:"animate-fade-in-up",style:{animationDelay:"1s"},children:[(0,Fe.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Fe.jsx)(He,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 py-3",placeholder:"Enter your password",value:s,onChange:e=>a(e.target.value)})]})]})]})}),o&&(0,Fe.jsx)("div",{className:"animate-fade-in-down bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-400 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),(0,Fe.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"1.2s"},children:(0,Fe.jsx)(Be,{as:"button",type:"submit",disabled:c,className:"w-full btn-animated",children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Fe.jsx)("span",{className:"loading-dots",children:"Signing in"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{children:"Sign In to Dashboard"}),(0,Fe.jsx)("svg",{className:"ml-2 h-5 w-5 transition-transform duration-200 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]})]})]})};function Ke(e){let{title:t,subtitle:n,icon:r,actions:i}=e;return(0,Fe.jsx)("div",{className:"mb-8 animate-fade-in-down",children:(0,Fe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-4",children:[r&&(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 bg-primary-500/20 rounded-full animate-ping"}),(0,Fe.jsx)("div",{className:"relative w-12 h-12 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25",children:r})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:t}),n&&(0,Fe.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400 text-lg",children:n})]})]}),i&&(0,Fe.jsx)("div",{className:"flex items-center gap-3",children:i})]})})}const Ge=()=>{const[e,t]=(0,i.useState)([0,0,0]);(0,i.useEffect)(()=>{const e=setTimeout(()=>{const e=[150,500,25];let n=0;const r=setInterval(()=>{n++;const i=n/60,s=1-Math.pow(1-i,3);t([Math.round(e[0]*s),Math.round(e[1]*s),Math.round(e[2]*s)]),n>=60&&clearInterval(r)},2e3/60)},500);return()=>clearTimeout(e)},[]);const n=e=>{const t={blue:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-200",green:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200"};return t[e]||t.blue};return(0,Fe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background-light via-primary-50/20 to-background-light dark:from-background-dark dark:via-primary-900/10 dark:to-background-dark",children:(0,Fe.jsxs)("div",{className:"p-6 md:p-8",children:[(0,Fe.jsx)(Ke,{title:"Welcome to Apexsoft Technology",subtitle:"Your trusted partner for innovative technology solutions",icon:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M158.9,89.16l-32-18-32,18L26.3,121.84,128,183.33l101.7-61.49ZM128,34,32.23,92.4,128,150.8,223.77,92.4ZM232,104.75v50.5a8,8,0,0,1-4.37,7.26l-96,54.86a7.9,7.9,0,0,1-7.26,0l-96-54.86A8,8,0,0,1,24,155.25v-50.5a8,8,0,0,1,4.37-7.26L52,83.17V144a8,8,0,0,0,16,0V100.8l52.37,29.93a8,8,0,0,0,7.26,0L180,100.8V144a8,8,0,0,0,16,0V83.17l23.63,14.32A8,8,0,0,1,232,104.75Z"})}),actions:(0,Fe.jsxs)(Be,{variant:"secondary",className:"btn-animated",children:["Explore Services",(0,Fe.jsx)("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-12",children:[{title:"Total Projects",value:"150+",change:"+25% this year",changeType:"positive",icon:"\ud83d\ude80",color:"from-blue-500 to-blue-600"},{title:"Happy Clients",value:"500+",change:"+15% growth",changeType:"positive",icon:"\ud83d\ude0a",color:"from-green-500 to-green-600"},{title:"Team Members",value:"25",change:"Expert professionals",changeType:"neutral",icon:"\ud83d\udc65",color:"from-purple-500 to-purple-600"}].map((t,n)=>(0,Fe.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 hover:shadow-xl hover:shadow-gray-300/50 dark:hover:shadow-gray-800/50 transition-all duration-300 card-hover animate-fade-in-up",style:{animationDelay:"".concat(.1*n,"s")},children:[(0,Fe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(t.color," opacity-0 group-hover:opacity-5 transition-opacity duration-300")}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fe.jsx)("div",{className:"text-3xl animate-float",style:{animationDelay:"".concat(.5*n,"s")},children:t.icon}),(0,Fe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r ".concat(t.color," rounded-xl flex items-center justify-center shadow-lg"),children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0,1.14,1.14,0,0,0,.11.11l80,75.48A16,16,0,0,1,224,115.55Z"})})})]}),(0,Fe.jsx)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:t.title}),(0,Fe.jsx)("div",{className:"flex items-baseline gap-2",children:(0,Fe.jsxs)("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[0===n&&e[0],"+",1===n&&e[1],"+",2===n&&e[2]]})}),(0,Fe.jsx)("div",{className:"mt-3 flex items-center gap-2",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("positive"===t.changeType?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200"),children:[(0,Fe.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),t.change]})})]})]},n))}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[(0,Fe.jsx)("div",{className:"group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-8 shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 hover:shadow-xl transition-all duration-300 card-hover animate-fade-in-left",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"})})}),(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"About Apexsoft"})]}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"We are a leading technology company specializing in web development, mobile applications, and digital transformation solutions. Our team of expert developers and designers work tirelessly to deliver cutting-edge solutions that drive business growth."}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{className:"group/item p-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl hover:from-primary-50 hover:to-primary-100 dark:hover:from-primary-900/20 dark:hover:to-primary-800/20 transition-all duration-300",children:[(0,Fe.jsx)("div",{className:"text-2xl font-bold text-primary group-hover/item:scale-110 transition-transform duration-300",children:"8+"}),(0,Fe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Years Experience"})]}),(0,Fe.jsxs)("div",{className:"group/item p-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl hover:from-primary-50 hover:to-primary-100 dark:hover:from-primary-900/20 dark:hover:to-primary-800/20 transition-all duration-300",children:[(0,Fe.jsx)("div",{className:"text-2xl font-bold text-primary group-hover/item:scale-110 transition-transform duration-300",children:"50+"}),(0,Fe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Technologies"})]})]})]})}),(0,Fe.jsx)("div",{className:"group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-8 shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 hover:shadow-xl transition-all duration-300 card-hover animate-fade-in-right",children:(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Our Services"})]}),(0,Fe.jsx)("div",{className:"space-y-4",children:[{icon:"\ud83c\udf10",title:"Web Development",desc:"Custom web applications and websites",color:"from-blue-500 to-blue-600"},{icon:"\ud83d\udcf1",title:"Mobile Apps",desc:"iOS and Android applications",color:"from-green-500 to-green-600"},{icon:"\ud83d\ude80",title:"Digital Solutions",desc:"Complete digital transformation",color:"from-purple-500 to-purple-600"}].map((e,t)=>(0,Fe.jsxs)("div",{className:"group/service flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r ".concat(e.color," rounded-lg flex items-center justify-center shadow-md group-hover/service:scale-110 transition-transform duration-300"),children:(0,Fe.jsx)("span",{className:"text-lg",children:e.icon})}),(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover/service:text-primary transition-colors duration-300",children:e.title}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.desc})]}),(0,Fe.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover/service:text-primary group-hover/service:translate-x-1 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},t))})]})})]}),(0,Fe.jsxs)("div",{className:"animate-fade-in-up",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M216,56H176V48a24,24,0,0,0-24-24H104A24,24,0,0,0,80,48v8H40A16,16,0,0,0,24,72V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V72A16,16,0,0,0,216,56ZM96,48a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm120,24V88H40V72Zm0,128H40V104H216v96Z"})})}),(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Recent Projects"})]}),(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 overflow-hidden",children:(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full",children:[(0,Fe.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Project"}),(0,Fe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Client"}),(0,Fe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Status"}),(0,Fe.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300",children:"Progress"})]})}),(0,Fe.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[{id:"#PRJ001",name:"E-commerce Platform",client:"TechCorp Ltd",status:"Completed",progress:"100%",statusColor:"green"},{id:"#PRJ002",name:"Mobile Banking App",client:"FinanceBank",status:"In Progress",progress:"75%",statusColor:"blue"},{id:"#PRJ003",name:"Healthcare Portal",client:"MediCare Inc",status:"In Progress",progress:"60%",statusColor:"blue"},{id:"#PRJ004",name:"Learning Management",client:"EduTech Solutions",status:"Planning",progress:"20%",statusColor:"yellow"}].map((e,t)=>(0,Fe.jsxs)("tr",{className:"group hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 animate-fade-in-up",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300",children:(0,Fe.jsx)("span",{className:"text-white font-bold text-sm",children:e.id.slice(-3)})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-primary transition-colors duration-300",children:e.name}),(0,Fe.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.id})]})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsx)("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.client})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(n(e.statusColor)),children:[(0,Fe.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat("green"===e.statusColor?"bg-green-400":"blue"===e.statusColor?"bg-blue-400":"bg-yellow-400"," animate-pulse")}),e.status]})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Fe.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:(0,Fe.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000 ".concat("green"===e.statusColor?"bg-green-500":"blue"===e.statusColor?"bg-blue-500":"bg-yellow-500"),style:{width:e.progress}})}),(0,Fe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[3rem]",children:e.progress})]})})]},e.id))})]})})})]})]})})},Qe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new $e;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ye=function(e){return function(e){const t=Qe(e);return Je.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xe=function(e){try{return Je.decodeString(e,!0)}catch(zg){console.error("base64Decode failed: ",zg)}return null};const Ze=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,et=()=>{try{return Ze()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(zg){return}const t=e&&Xe(e[1]);return t&&JSON.parse(t)})()}catch(zg){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(zg))}},tt=e=>{var t,n;return null===(n=null===(t=et())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},nt=()=>{var e;return null===(e=et())||void 0===e?void 0:e.config},rt=e=>{var t;return null===(t=et())||void 0===t?void 0:t["_".concat(e)]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function st(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function at(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ot(){return!function(){var e;const t=null===(e=et())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(zg){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lt(){try{return"object"===typeof indexedDB}catch(zg){return!1}}function ct(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class ut extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ht,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ut(n,s,t)}}const ht=/\{\$([^}]+)}/g;function ft(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(pt(n)&&pt(s)){if(!ft(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pt(e){return null!==e&&"object"===typeof e}function mt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function yt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class vt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=xt),void 0===r.error&&(r.error=xt),void 0===r.complete&&(r.complete=xt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(zg){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(zg){"undefined"!==typeof console&&console.error&&console.error(zg)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xt(){}function bt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function wt(e){return e&&e._delegate?e._delegate:e}class kt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nt="[DEFAULT]";class Et{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new it;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(zg){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(zg){if(r)return null;throw zg}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nt})}catch(zg){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(zg){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Nt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.component?this.component.multipleInstances?e:Nt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _t{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Et(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const St=[];var jt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jt||(jt={}));const Tt={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Ct=jt.INFO,It={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},At=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=It[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Pt{constructor(e){this.name=e,this._logLevel=Ct,this._logHandler=At,this._userLogHandler=null,St.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}let Dt,Rt;const Lt=new WeakMap,Ot=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap;let Vt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ot.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rt||(Rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ht(this),n),qt(Lt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qt(e.apply(Ht(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ht(this),t,...r);return Mt.set(s,t.sort?t.sort():[t]),qt(s)}}function Bt(e){return"function"===typeof e?zt(e):(e instanceof IDBTransaction&&function(e){if(Ot.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Ot.set(e,t)}(e),t=e,(Dt||(Dt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Vt):e);var t}function qt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(qt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Lt.set(t,e)}).catch(()=>{}),Ut.set(t,e),t}(e);if(Ft.has(e))return Ft.get(e);const t=Bt(e);return t!==e&&(Ft.set(e,t),Ut.set(t,e)),t}const Ht=e=>Ut.get(e);function Wt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=qt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(qt(a.result),e.oldVersion,e.newVersion,qt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const Kt=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Qt=new Map;function Jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Qt.get(t))return Qt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Gt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Kt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Qt.set(t,s),s}Vt=(e=>Oe(Oe({},e),{},{get:(t,n,r)=>Jt(t,n)||e.get(t,n,r),has:(t,n)=>!!Jt(t,n)||e.has(t,n)}))(Vt);class $t{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Yt="@firebase/app",Xt="0.10.13",Zt=new Pt("@firebase/app"),en="@firebase/app-compat",tn="@firebase/analytics-compat",nn="@firebase/analytics",rn="@firebase/app-check-compat",sn="@firebase/app-check",an="@firebase/auth",on="@firebase/auth-compat",ln="@firebase/database",cn="@firebase/data-connect",un="@firebase/database-compat",dn="@firebase/functions",hn="@firebase/functions-compat",fn="@firebase/installations",pn="@firebase/installations-compat",mn="@firebase/messaging",gn="@firebase/messaging-compat",yn="@firebase/performance",vn="@firebase/performance-compat",xn="@firebase/remote-config",bn="@firebase/remote-config-compat",wn="@firebase/storage",kn="@firebase/storage-compat",Nn="@firebase/firestore",En="@firebase/vertexai-preview",_n="@firebase/firestore-compat",Sn="firebase",jn="[DEFAULT]",Tn={[Yt]:"fire-core",[en]:"fire-core-compat",[nn]:"fire-analytics",[tn]:"fire-analytics-compat",[sn]:"fire-app-check",[rn]:"fire-app-check-compat",[an]:"fire-auth",[on]:"fire-auth-compat",[ln]:"fire-rtdb",[cn]:"fire-data-connect",[un]:"fire-rtdb-compat",[dn]:"fire-fn",[hn]:"fire-fn-compat",[fn]:"fire-iid",[pn]:"fire-iid-compat",[mn]:"fire-fcm",[gn]:"fire-fcm-compat",[yn]:"fire-perf",[vn]:"fire-perf-compat",[xn]:"fire-rc",[bn]:"fire-rc-compat",[wn]:"fire-gcs",[kn]:"fire-gcs-compat",[Nn]:"fire-fst",[_n]:"fire-fst-compat",[En]:"fire-vertex","fire-js":"fire-js",[Sn]:"fire-js-all"},Cn=new Map,In=new Map,An=new Map;function Pn(e,t){try{e.container.addComponent(t)}catch(zg){Zt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),zg)}}function Dn(e){const t=e.name;if(An.has(t))return Zt.debug("There were multiple attempts to register component ".concat(t,".")),!1;An.set(t,e);for(const n of Cn.values())Pn(n,e);for(const n of In.values())Pn(n,e);return!0}function Rn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ln(e){return void 0!==e.settings}const On=new dt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Mn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Fn="10.14.1";function Un(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:jn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw On.create("bad-app-name",{appName:String(i)});if(n||(n=nt()),!n)throw On.create("no-options");const s=Cn.get(i);if(s){if(ft(n,s.options)&&ft(r,s.config))return s;throw On.create("duplicate-app",{appName:i})}const a=new _t(i);for(const l of An.values())a.addComponent(l);const o=new Mn(n,r,a);return Cn.set(i,o),o}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn;const t=Cn.get(e);if(!t&&e===jn&&nt())return Un();if(!t)throw On.create("no-app",{appName:e});return t}function zn(e,t,n){var r;let i=null!==(r=Tn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zt.warn(e.join(" "))}Dn(new kt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Bn="firebase-heartbeat-store";let qn=null;function Hn(){return qn||(qn=Wt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Bn)}catch(zg){console.warn(zg)}}}).catch(e=>{throw On.create("idb-open",{originalErrorMessage:e.message})})),qn}async function Wn(e,t){try{const n=(await Hn()).transaction(Bn,"readwrite"),r=n.objectStore(Bn);await r.put(t,Kn(e)),await n.done}catch(zg){if(zg instanceof ut)Zt.warn(zg.message);else{const t=On.create("idb-set",{originalErrorMessage:null===zg||void 0===zg?void 0:zg.message});Zt.warn(t.message)}}}function Kn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Gn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(zg){Zt.warn(zg)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Qn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),$n(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$n(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ye(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(zg){return Zt.warn(zg),""}}}function Qn(){return(new Date).toISOString().substring(0,10)}class Jn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!lt()&&ct().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Hn()).transaction(Bn),n=await t.objectStore(Bn).get(Kn(e));return await t.done,n}catch(zg){if(zg instanceof ut)Zt.warn(zg.message);else{const t=On.create("idb-get",{originalErrorMessage:null===zg||void 0===zg?void 0:zg.message});Zt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $n(e){return Ye(JSON.stringify({version:2,heartbeats:e})).length}var Yn;Yn="",Dn(new kt("platform-logger",e=>new $t(e),"PRIVATE")),Dn(new kt("heartbeat",e=>new Gn(e),"PRIVATE")),zn(Yt,Xt,Yn),zn(Yt,Xt,"esm2017"),zn("fire-js","");var Xn,Zn,er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Zn=tr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Xn=tr.Integer=r}).apply("undefined"!==typeof er?er:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var nr,rr,ir,sr,ar,or,lr,cr,ur="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},dr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ur&&ur];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){i.setTimeout(()=>{throw e},0)}function E(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S,e=>e.reset());class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,T=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);j=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){N(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,D);var O={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function J(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;w(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function xe(){D.call(this,"c")}d(ve,D),d(xe,D);var be={},we=null;function ke(){return we=we||new ne}function Ne(e){D.call(this,be.La,e)}function Ee(e){const t=ke();re(t,new Ne(t))}function _e(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function Se(e){const t=ke();re(t,new _e(t,e))}function je(e,t){D.call(this,be.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(Ne,D),be.STAT_EVENT="statevent",d(_e,D),be.Ma="timingevent",d(je,D),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Jt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var s=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Se(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),Ke(this)}}}catch(hr){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),Se(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Nt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,xt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,xt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e,t){kt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return kt(e),t=St(e,t),e.g.has(t)}function _t(e,t,n){Nt(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(zg){throw t.push(r+"type="+encodeURIComponent("_badmap")),zg}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){kt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,Et(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(It,pe),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(zg){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(mr){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function $t(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){$t(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||I(),T||(j(),T=!0),C.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ct(o,e,"req"+n+"_")}catch(hr){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||I(),T||(j(),T=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new je(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){xe.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=x(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,xe),d(xn,pn),xn.prototype.ua=function(){re(this.g,"a")},xn.prototype.ta=function(e){re(this.g,new yn(e))},xn.prototype.sa=function(e){re(this.g,new vn)},xn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,cr=dr.createWebChannelTransport=function(){return new mn},lr=dr.getStatEventTarget=function(){return ke()},or=dr.Event=be,ar=dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,sr=dr.ErrorCode=Pe,De.COMPLETE="complete",ir=dr.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,rr=dr.WebChannel=ge,dr.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,nr=dr.XhrIo=Mt}).apply("undefined"!==typeof ur?ur:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const hr="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let pr="10.14.0";const mr=new Pt("@firebase/firestore");function gr(){return mr.logLevel}function yr(e){if(mr.logLevel<=jt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(br);mr.debug("Firestore (".concat(pr,"): ").concat(e),...i)}}function vr(e){if(mr.logLevel<=jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(br);mr.error("Firestore (".concat(pr,"): ").concat(e),...i)}}function xr(e){if(mr.logLevel<=jt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(br);mr.warn("Firestore (".concat(pr,"): ").concat(e),...i)}}function br(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(pr,") INTERNAL ASSERTION FAILED: ")+e;throw vr(t),new Error(t)}function kr(e,t){e||wr()}function Nr(e,t){return e}const Er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _r extends ut{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Tr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fr.UNAUTHENTICATED))}shutdown(){}}class Cr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ir{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kr(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Sr,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{yr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(yr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Sr)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(kr("string"==typeof t.accessToken),new jr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kr(null===e||"string"==typeof e),new fr(e)}}class Ar{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ar(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){kr(void 0===this.o);const n=e=>{null!=e.error&&yr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,yr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{yr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):yr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(kr("string"==typeof e.token),this.R=e.token,new Dr(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Or{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Lr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Mr(e,t){return e<t?-1:e>t?1:0}function Fr(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Ur{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _r(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _r(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _r(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _r(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ur.fromMillis(Date.now())}static fromDate(e){return Ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ur(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mr(this.nanoseconds,e.nanoseconds):Mr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vr(e)}static min(){return new Vr(new Ur(0,0))}static max(){return new Vr(new Ur(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zr{constructor(e,t,n){void 0===t?t=0:t>e.length&&wr(),void 0===n?n=e.length-t:n>e.length-t&&wr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===zr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Br extends zr{construct(e,t,n){return new Br(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _r(Er.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Br(e)}static emptyPath(){return new Br([])}}const qr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends zr{construct(e,t,n){return new Hr(e,t,n)}static isValidIdentifier(e){return qr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _r(Er.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _r(Er.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _r(Er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new _r(Er.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hr(t)}static emptyPath(){return new Hr([])}}class Wr{constructor(e){this.path=e}static fromPath(e){return new Wr(Br.fromString(e))}static fromName(e){return new Wr(Br.fromString(e).popFirst(5))}static empty(){return new Wr(Br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Br.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wr(new Br(e.slice()))}}class Kr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Kr.UNKNOWN_ID=-1;function Gr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vr.fromTimestamp(1e9===r?new Ur(n+1,0):new Ur(n,r));return new Jr(i,Wr.empty(),t)}function Qr(e){return new Jr(e.readTime,e.key,-1)}class Jr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Jr(Vr.min(),Wr.empty(),-1)}static max(){return new Jr(Vr.max(),Wr.empty(),-1)}}function $r(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wr.comparator(e.documentKey,t.documentKey),0!==n?n:Mr(e.largestBatchId,t.largestBatchId))}const Yr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Zr(e){if(e.code!==Er.FAILED_PRECONDITION||e.message!==Yr)throw e;yr("LocalStore","Unexpectedly lost primary lease")}class ei{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ei((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ei?t:ei.resolve(t)}catch(e){return ei.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ei.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ei.reject(t)}static resolve(e){return new ei((t,n)=>{t(e)})}static reject(e){return new ei((t,n)=>{n(e)})}static waitFor(e){return new ei((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ei.resolve(!1);for(const n of e)t=t.next(e=>e?ei.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ei((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ei((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ti(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ni(e){return"IndexedDbTransactionError"===e.name}class ri{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ii(e){return null==e}function si(e){return 0===e&&1/e==-1/0}function ai(e){return"number"==typeof e&&Number.isInteger(e)&&!si(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ri.oe=-1;const oi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],li=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ci=li,ui=[...ci,"indexConfiguration","indexState","indexEntries"];function di(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pi{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mi(this.root,e,this.comparator,!0)}}class mi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:gi.RED,this.left=null!=r?r:gi.EMPTY,this.right=null!=i?i:gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new gi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return gi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wr();if(this.right.isRed())throw wr();const e=this.left.check();if(e!==this.right.check())throw wr();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw wr()}get value(){throw wr()}get color(){throw wr()}get left(){throw wr()}get right(){throw wr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new gi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(e){this.comparator=e,this.data=new pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vi(this.data.getIterator())}getIteratorFrom(e){return new vi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof yi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yi(this.comparator);return t.data=e,t}}class vi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xi{constructor(e){this.fields=e,e.sort(Hr.comparator)}static empty(){return new xi([])}unionWith(e){let t=new yi(Hr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fr(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bi("Invalid base64 string: "+e):e}}(e);return new wi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const ki=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(e){if(kr(!!e),"string"==typeof e){let t=0;const n=ki.exec(e);if(kr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ei(e.seconds),nanos:Ei(e.nanos)}}function Ei(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _i(e){return"string"==typeof e?wi.fromBase64String(e):wi.fromUint8Array(e)}function Si(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ji(e){const t=e.mapValue.fields.__previous_value__;return Si(t)?ji(t):t}function Ti(e){const t=Ni(e.mapValue.fields.__local_write_time__.timestampValue);return new Ur(t.seconds,t.nanos)}class Ci{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Ii{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ii("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ii&&e.projectId===this.projectId&&e.database===this.database}}const Ai={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Si(e)?4:Qi(e)?9007199254740991:Ki(e)?10:11:wr()}function Di(e,t){if(e===t)return!0;const n=Pi(e);if(n!==Pi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ti(e).isEqual(Ti(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ni(e.timestampValue),r=Ni(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _i(e.bytesValue).isEqual(_i(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ei(e.geoPointValue.latitude)===Ei(t.geoPointValue.latitude)&&Ei(e.geoPointValue.longitude)===Ei(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ei(e.integerValue)===Ei(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ei(e.doubleValue),r=Ei(t.doubleValue);return n===r?si(n)===si(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fr(e.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(di(n)!==di(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Di(n[i],r[i])))return!1;return!0}(e,t);default:return wr()}}function Ri(e,t){return void 0!==(e.values||[]).find(e=>Di(e,t))}function Li(e,t){if(e===t)return 0;const n=Pi(e),r=Pi(t);if(n!==r)return Mr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ei(e.integerValue||e.doubleValue),r=Ei(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Oi(e.timestampValue,t.timestampValue);case 4:return Oi(Ti(e),Ti(t));case 5:return Mr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_i(e),r=_i(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Mr(n[i],r[i]);if(0!==e)return e}return Mr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Mr(Ei(e.latitude),Ei(t.latitude));return 0!==n?n:Mr(Ei(e.longitude),Ei(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Mi(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Mr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Mi(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ai.mapValue&&t===Ai.mapValue)return 0;if(e===Ai.mapValue)return 1;if(t===Ai.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Mr(r[a],s[a]);if(0!==e)return e;const t=Li(n[r[a]],i[s[a]]);if(0!==t)return t}return Mr(r.length,s.length)}(e.mapValue,t.mapValue);default:throw wr()}}function Oi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mr(e,t);const n=Ni(e),r=Ni(t),i=Mr(n.seconds,r.seconds);return 0!==i?i:Mr(n.nanos,r.nanos)}function Mi(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Li(n[i],r[i]);if(e)return e}return Mr(n.length,r.length)}function Fi(e){return Ui(e)}function Ui(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ni(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _i(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ui(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ui(e.fields[i]));return n+"}"}(e.mapValue):wr()}function Vi(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zi(e){return!!e&&"integerValue"in e}function Bi(e){return!!e&&"arrayValue"in e}function qi(e){return!!e&&"nullValue"in e}function Hi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wi(e){return!!e&&"mapValue"in e}function Ki(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hi(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Gi(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Qi(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ji{constructor(e){this.value=e}static empty(){return new Ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gi(t)}setAll(e){let t=Hr.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Gi(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Wi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Wi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hi(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ji(Gi(this.value))}}function $i(e){const t=[];return hi(e.fields,(e,n)=>{const r=new Hr([e]);if(Wi(n)){const e=$i(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new xi(t)}class Yi{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yi(e,0,Vr.min(),Vr.min(),Vr.min(),Ji.empty(),0)}static newFoundDocument(e,t,n,r){return new Yi(e,1,t,Vr.min(),n,r,0)}static newNoDocument(e,t){return new Yi(e,2,t,Vr.min(),Vr.min(),Ji.empty(),0)}static newUnknownDocument(e,t){return new Yi(e,3,t,Vr.min(),Vr.min(),Ji.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Xi{constructor(e,t){this.position=e,this.inclusive=t}}function Zi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Wr.comparator(Wr.fromName(a.referenceValue),n.key):Li(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function es(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Di(e.position[n],t.position[n]))return!1;return!0}class ts{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ns(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class rs{}class is extends rs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hs(e,t,n):"array-contains"===t?new gs(e,n):"in"===t?new ys(e,n):"not-in"===t?new vs(e,n):"array-contains-any"===t?new xs(e,n):new is(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fs(e,n):new ps(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Li(t,this.value)):null!==t&&Pi(this.value)===Pi(t)&&this.matchesComparison(Li(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends rs{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ss(e,t)}matches(e){return as(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function as(e){return"and"===e.op}function os(e){return ls(e)&&as(e)}function ls(e){for(const t of e.filters)if(t instanceof ss)return!1;return!0}function cs(e){if(e instanceof is)return e.field.canonicalString()+e.op.toString()+Fi(e.value);if(os(e))return e.filters.map(e=>cs(e)).join(",");{const t=e.filters.map(e=>cs(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function us(e,t){return e instanceof is?function(e,t){return t instanceof is&&e.op===t.op&&e.field.isEqual(t.field)&&Di(e.value,t.value)}(e,t):e instanceof ss?function(e,t){return t instanceof ss&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&us(n,t.filters[r]),!0)}(e,t):void wr()}function ds(e){return e instanceof is?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fi(e.value))}(e):e instanceof ss?function(e){return e.op.toString()+" {"+e.getFilters().map(ds).join(" ,")+"}"}(e):"Filter"}class hs extends is{constructor(e,t,n){super(e,t,n),this.key=Wr.fromName(n.referenceValue)}matches(e){const t=Wr.comparator(e.key,this.key);return this.matchesComparison(t)}}class fs extends is{constructor(e,t){super(e,"in",t),this.keys=ms("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ps extends is{constructor(e,t){super(e,"not-in",t),this.keys=ms("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ms(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Wr.fromName(e.referenceValue))}class gs extends is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bi(t)&&Ri(t.arrayValue,this.value)}}class ys extends is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ri(this.value.arrayValue,t)}}class vs extends is{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ri(this.value.arrayValue,t)}}class xs extends is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ri(this.value.arrayValue,e))}}class bs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function ws(e){return new bs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ks(e){const t=Nr(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>cs(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ii(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Fi(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Fi(e)).join(",")),t.ue=e}return t.ue}function Ns(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ns(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!us(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!es(e.startAt,t.startAt)&&es(e.endAt,t.endAt)}function Es(e){return Wr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ss(e,t,n,r,i,s,a,o){return new _s(e,t,n,r,i,s,a,o)}function js(e){return new _s(e)}function Ts(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cs(e){return null!==e.collectionGroup}function Is(e){const t=Nr(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new yi(Hr.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ts(r,n))}),e.has(Hr.keyField().canonicalString())||t.ce.push(new ts(Hr.keyField(),n))}return t.ce}function As(e){const t=Nr(e);return t.le||(t.le=Ps(t,Is(e))),t.le}function Ps(e,t){if("F"===e.limitType)return ws(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ts(e.field,t)});const n=e.endAt?new Xi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xi(e.startAt.position,e.startAt.inclusive):null;return ws(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ds(e,t){const n=e.filters.concat([t]);return new _s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rs(e,t,n){return new _s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ls(e,t){return Ns(As(e),As(t))&&e.limitType===t.limitType}function Os(e){return"".concat(ks(As(e)),"|lt:").concat(e.limitType)}function Ms(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ds(e)).join(", "),"]")),ii(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Fi(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Fi(e)).join(",")),"Target(".concat(t,")")}(As(e)),"; limitType=").concat(e.limitType,")")}function Fs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Is(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Zi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Is(e),t))&&!(e.endAt&&!function(e,t,n){const r=Zi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Is(e),t))}(e,t)}function Us(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vs(e){return(t,n)=>{let r=!1;for(const i of Is(e)){const e=zs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function zs(e,t,n){const r=e.field.isKeyField()?Wr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Li(r,i):wr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wr()}}class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return fi(this.inner)}size(){return this.innerSize}}const qs=new pi(Wr.comparator);function Hs(){return qs}const Ws=new pi(Wr.comparator);function Ks(){let e=Ws;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Gs(e){let t=Ws;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Qs(){return $s()}function Js(){return $s()}function $s(){return new Bs(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ys=new pi(Wr.comparator),Xs=new yi(Wr.comparator);function Zs(){let e=Xs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ea=new yi(Mr);function ta(){return ea}function na(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:si(t)?"-0":t}}function ra(e){return{integerValue:""+e}}function ia(e,t){return ai(t)?ra(t):na(e,t)}class sa{constructor(){this._=void 0}}function aa(e,t,n){return e instanceof ca?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Si(t)&&(t=ji(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ua?da(e,t):e instanceof ha?fa(e,t):function(e,t){const n=la(e,t),r=ma(n)+ma(e.Pe);return zi(n)&&zi(e.Pe)?ra(r):na(e.serializer,r)}(e,t)}function oa(e,t,n){return e instanceof ua?da(e,t):e instanceof ha?fa(e,t):n}function la(e,t){return e instanceof pa?function(e){return zi(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ca extends sa{}class ua extends sa{constructor(e){super(),this.elements=e}}function da(e,t){const n=ga(t);for(const r of e.elements)n.some(e=>Di(e,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends sa{constructor(e){super(),this.elements=e}}function fa(e,t){let n=ga(t);for(const r of e.elements)n=n.filter(e=>!Di(e,r));return{arrayValue:{values:n}}}class pa extends sa{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ma(e){return Ei(e.integerValue||e.doubleValue)}function ga(e){return Bi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ya{constructor(e,t){this.field=e,this.transform=t}}class va{constructor(e,t){this.version=e,this.transformResults=t}}class xa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xa}static exists(e){return new xa(void 0,e)}static updateTime(e){return new xa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ba(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wa{}function ka(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pa(e.key,xa.none()):new ja(e.key,e.data,xa.none());{const n=e.data,r=Ji.empty();let i=new yi(Hr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ta(e.key,r,new xi(i.toArray()),xa.none())}}function Na(e,t,n){e instanceof ja?function(e,t,n){const r=e.value.clone(),i=Ia(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(!ba(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ia(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ca(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ea(e,t,n,r){return e instanceof ja?function(e,t,n,r){if(!ba(e.precondition,t))return n;const i=e.value.clone(),s=Aa(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ta?function(e,t,n,r){if(!ba(e.precondition,t))return n;const i=Aa(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ca(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ba(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _a(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=la(r.transform,e||null);null!=i&&(null===n&&(n=Ji.empty()),n.set(r.field,i))}return n||null}function Sa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fr(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ua&&t instanceof ua||e instanceof ha&&t instanceof ha?Fr(e.elements,t.elements,Di):e instanceof pa&&t instanceof pa?Di(e.Pe,t.Pe):e instanceof ca&&t instanceof ca}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ja extends wa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ta extends wa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ca(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ia(e,t,n){const r=new Map;kr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,oa(a,o,n[i]))}return r}function Aa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,aa(e,s,t))}return r}class Pa extends wa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Da extends wa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ra{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Na(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ea(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ea(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Js();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=ka(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Vr.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zs())}isEqual(e){return this.batchId===e.batchId&&Fr(this.mutations,e.mutations,(e,t)=>Sa(e,t))&&Fr(this.baseMutations,e.baseMutations,(e,t)=>Sa(e,t))}}class La{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){kr(e.mutations.length===n.length);let r=Ys;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new La(e,t,n,r)}}class Oa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ma{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fa,Ua;function Va(e){switch(e){default:return wr();case Er.CANCELLED:case Er.UNKNOWN:case Er.DEADLINE_EXCEEDED:case Er.RESOURCE_EXHAUSTED:case Er.INTERNAL:case Er.UNAVAILABLE:case Er.UNAUTHENTICATED:return!1;case Er.INVALID_ARGUMENT:case Er.NOT_FOUND:case Er.ALREADY_EXISTS:case Er.PERMISSION_DENIED:case Er.FAILED_PRECONDITION:case Er.ABORTED:case Er.OUT_OF_RANGE:case Er.UNIMPLEMENTED:case Er.DATA_LOSS:return!0}}function za(e){if(void 0===e)return vr("GRPC error has no .code"),Er.UNKNOWN;switch(e){case Fa.OK:return Er.OK;case Fa.CANCELLED:return Er.CANCELLED;case Fa.UNKNOWN:return Er.UNKNOWN;case Fa.DEADLINE_EXCEEDED:return Er.DEADLINE_EXCEEDED;case Fa.RESOURCE_EXHAUSTED:return Er.RESOURCE_EXHAUSTED;case Fa.INTERNAL:return Er.INTERNAL;case Fa.UNAVAILABLE:return Er.UNAVAILABLE;case Fa.UNAUTHENTICATED:return Er.UNAUTHENTICATED;case Fa.INVALID_ARGUMENT:return Er.INVALID_ARGUMENT;case Fa.NOT_FOUND:return Er.NOT_FOUND;case Fa.ALREADY_EXISTS:return Er.ALREADY_EXISTS;case Fa.PERMISSION_DENIED:return Er.PERMISSION_DENIED;case Fa.FAILED_PRECONDITION:return Er.FAILED_PRECONDITION;case Fa.ABORTED:return Er.ABORTED;case Fa.OUT_OF_RANGE:return Er.OUT_OF_RANGE;case Fa.UNIMPLEMENTED:return Er.UNIMPLEMENTED;case Fa.DATA_LOSS:return Er.DATA_LOSS;default:return wr()}}(Ua=Fa||(Fa={}))[Ua.OK=0]="OK",Ua[Ua.CANCELLED=1]="CANCELLED",Ua[Ua.UNKNOWN=2]="UNKNOWN",Ua[Ua.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ua[Ua.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ua[Ua.NOT_FOUND=5]="NOT_FOUND",Ua[Ua.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ua[Ua.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ua[Ua.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ua[Ua.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ua[Ua.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ua[Ua.ABORTED=10]="ABORTED",Ua[Ua.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ua[Ua.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ua[Ua.INTERNAL=13]="INTERNAL",Ua[Ua.UNAVAILABLE=14]="UNAVAILABLE",Ua[Ua.DATA_LOSS=15]="DATA_LOSS";let Ba=null;function qa(){return new TextEncoder}const Ha=new Xn([4294967295,4294967295],0);function Wa(e){const t=qa().encode(e),n=new Zn;return n.update(t),new Uint8Array(n.digest())}function Ka(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xn([n,r],0),new Xn([i,s],0)]}class Ga{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Qa("Invalid padding: ".concat(t));if(n<0)throw new Qa("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Qa("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Qa("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Xn.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Xn.fromNumber(n)));return 1===r.compare(Ha)&&(r=new Xn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Wa(e),[n,r]=Ka(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ga(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=Wa(e),[n,r]=Ka(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ja{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ja(Vr.min(),r,new pi(Mr),Hs(),Zs())}}class $a{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $a(n,t,Zs(),Zs(),Zs())}}class Ya{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Xa{constructor(e,t){this.targetId=e,this.me=t}}class Za{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class eo{constructor(){this.fe=0,this.ge=ro(),this.pe=wi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Zs(),t=Zs(),n=Zs();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wr()}}),new $a(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=ro()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class to{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hs(),this.qe=no(),this.Qe=new pi(Mr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:wr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Es(i))if(0===n){const e=new Wr(i.path);this.Ue(t,e,Yi.newNoDocument(e,Vr.min()))}else kr(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Ba||Ba.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=_i(n).toUint8Array()}catch(e){if(e instanceof bi)return xr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ga(s,r,i)}catch(e){return xr(e instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Es(i.target)){const t=new Wr(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Yi.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Zs();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Ja(e,t,this.Qe,this.ke,n);return this.ke=Hs(),this.qe=no(),this.Qe=new pi(Mr),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new eo,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yi(Mr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||yr("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eo),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function no(){return new pi(Wr.comparator)}function ro(){return new pi(Wr.comparator)}const io={asc:"ASCENDING",desc:"DESCENDING"},so={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ao={and:"AND",or:"OR"};class oo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lo(e,t){return e.useProto3Json||ii(t)?t:{value:t}}function co(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function uo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ho(e,t){return co(e,t.toTimestamp())}function fo(e){return kr(!!e),Vr.fromTimestamp(function(e){const t=Ni(e);return new Ur(t.seconds,t.nanos)}(e))}function po(e,t){return mo(e,t).canonicalString()}function mo(e,t){const n=function(e){return new Br(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function go(e){const t=Br.fromString(e);return kr(Oo(t)),t}function yo(e,t){return po(e.databaseId,t.path)}function vo(e,t){const n=go(t);if(n.get(1)!==e.databaseId.projectId)throw new _r(Er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _r(Er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wr(ko(n))}function xo(e,t){return po(e.databaseId,t)}function bo(e){const t=go(e);return 4===t.length?Br.emptyPath():ko(t)}function wo(e){return new Br(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ko(e){return kr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function No(e,t,n){return{name:yo(e,t),fields:n.value.mapValue.fields}}function Eo(e,t){let n;if(t instanceof ja)n={update:No(e,t.key,t.value)};else if(t instanceof Pa)n={delete:yo(e,t.key)};else if(t instanceof Ta)n={update:No(e,t.key,t.data),updateMask:Lo(t.fieldMask)};else{if(!(t instanceof Da))return wr();n={verify:yo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ca)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ha)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pa)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw wr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ho(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wr()}(e,t.precondition)),n}function _o(e,t){return{documents:[xo(e,t.path)]}}function So(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xo(e,i);const s=function(e){if(0!==e.length)return Ro(ss.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Po(e.field),direction:Co(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=lo(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function jo(e){let t=bo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=To(e);return t instanceof ss&&os(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new ts(Do(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ii(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Xi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Xi(n,t)}(n.endAt)),Ss(t,i,a,s,o,"F",l,c)}function To(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Do(e.unaryFilter.field);return is.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Do(e.unaryFilter.field);return is.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Do(e.unaryFilter.field);return is.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Do(e.unaryFilter.field);return is.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wr()}}(e):void 0!==e.fieldFilter?function(e){return is.create(Do(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ss.create(e.compositeFilter.filters.map(e=>To(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wr()}}(e.compositeFilter.op))}(e):wr()}function Co(e){return io[e]}function Io(e){return so[e]}function Ao(e){return ao[e]}function Po(e){return{fieldPath:e.canonicalString()}}function Do(e){return Hr.fromServerFormat(e.fieldPath)}function Ro(e){return e instanceof is?function(e){if("=="===e.op){if(Hi(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NAN"}};if(qi(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hi(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NOT_NAN"}};if(qi(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(e.field),op:Io(e.op),value:e.value}}}(e):e instanceof ss?function(e){const t=e.getFilters().map(e=>Ro(e));return 1===t.length?t[0]:{compositeFilter:{op:Ao(e.op),filters:t}}}(e):wr()}function Lo(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Oo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Mo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vr.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vr.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wi.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fo{constructor(e){this.ct=e}}function Uo(e){const t=jo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rs(t,t.limit,"L"):t}class Vo{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ei(e.integerValue));else if("doubleValue"in e){const n=Ei(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),si(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Ni(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_i(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Qi(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Ki(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):wr()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Ei(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Wr.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Vo.vt=new Vo;class zo{constructor(){this.un=new Bo}addToCollectionParentIndex(e,t){return this.un.add(t),ei.resolve()}getCollectionParents(e,t){return ei.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ei.resolve()}deleteFieldIndex(e,t){return ei.resolve()}deleteAllFieldIndexes(e){return ei.resolve()}createTargetIndexes(e,t){return ei.resolve()}getDocumentsMatchingTarget(e,t){return ei.resolve(null)}getIndexType(e,t){return ei.resolve(0)}getFieldIndexes(e,t){return ei.resolve([])}getNextCollectionGroupToUpdate(e){return ei.resolve(null)}getMinOffset(e,t){return ei.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return ei.resolve(Jr.min())}updateCollectionGroup(e,t,n){return ei.resolve()}updateIndexEntries(e,t){return ei.resolve()}}class Bo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new yi(Br.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new yi(Br.comparator)).toArray()}}new Uint8Array(0);class qo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ho(0)}static kn(){return new Ho(-1)}}class Wo{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ei.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ko{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Go{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ea(n.mutation,e,xi.empty(),Ur.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Zs()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zs();const r=Qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ks();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Qs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Zs()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Hs();const s=$s(),a=$s();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ta)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Ea(a.mutation,t,a.mutation.getFieldMask(),Ur.now())):s.set(t.key,xi.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Ko(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=$s();let r=new pi((e,t)=>e-t),i=Zs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||xi.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Zs()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Js();l.forEach(e=>{if(!i.has(e)){const r=ka(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ei.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ei.resolve(Qs());let a=-1,o=i;return s.next(t=>ei.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ei.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Zs())).next(e=>({batchId:a,changes:Gs(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wr(t)).next(e=>{let t=Ks();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ks();return this.indexManager.getCollectionParents(e,i).next(a=>ei.forEach(a,a=>{const o=function(e,t){return new _s(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yi.newInvalidDocument(r)))});let n=Ks();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Ea(s.mutation,r,xi.empty(),Ur.now()),Fs(t,r)&&(n=n.insert(e,r))}),n})}}class Qo{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ei.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:fo(e.createTime)}}(t)),ei.resolve()}getNamedQuery(e,t){return ei.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Uo(e.bundledQuery),readTime:fo(e.readTime)}}(t)),ei.resolve()}}class Jo{constructor(){this.overlays=new pi(Wr.comparator),this.Ir=new Map}getOverlay(e,t){return ei.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qs();return ei.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),ei.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),ei.resolve()}getOverlaysForCollection(e,t,n){const r=Qs(),i=t.length+1,s=new Wr(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ei.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new pi((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Qs(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Qs(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return ei.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Oa(t,n));let i=this.Ir.get(t);void 0===i&&(i=Zs(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class $o{constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(e){return ei.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ei.resolve()}}class Yo{constructor(){this.Tr=new yi(Xo.Er),this.dr=new yi(Xo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Xo(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Xo(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new Wr(new Br([])),n=new Xo(t,e),r=new Xo(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Wr(new Br([])),n=new Xo(t,e),r=new Xo(t,e+1);let i=Zs();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Xo(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xo{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Wr.comparator(e.key,t.key)||Mr(e.wr,t.wr)}static Ar(e,t){return Mr(e.wr,t.wr)||Wr.comparator(e.key,t.key)}}class Zo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new yi(Xo.Er)}checkEmpty(e){return ei.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ra(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Xo(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ei.resolve(s)}lookupMutationBatch(e,t){return ei.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return ei.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ei.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ei.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xo(t,0),r=new Xo(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),ei.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yi(Mr);return t.forEach(e=>{const t=new Xo(e,0),r=new Xo(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),ei.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wr.isDocumentKey(i)||(i=i.child(""));const s=new Xo(new Wr(i),0);let a=new yi(Mr);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),ei.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){kr(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return ei.forEach(t.mutations,r=>{const i=new Xo(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Xo(t,0),r=this.br.firstAfterOrEqual(n);return ei.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ei.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class el{constructor(e){this.Mr=e,this.docs=new pi(Wr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ei.resolve(n?n.document.mutableCopy():Yi.newInvalidDocument(t))}getEntries(e,t){let n=Hs();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yi.newInvalidDocument(e))}),ei.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Hs();const s=t.path,a=new Wr(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||$r(Qr(a),n)<=0||(r.has(a.key)||Fs(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ei.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wr()}Or(e,t){return ei.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new tl(this)}getSize(e){return ei.resolve(this.size)}}class tl extends Wo{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),ei.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class nl{constructor(e){this.persistence=e,this.Nr=new Bs(e=>ks(e),Ns),this.lastRemoteSnapshotVersion=Vr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yo,this.targetCount=0,this.kr=Ho.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),ei.resolve()}getLastRemoteSnapshotVersion(e){return ei.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ei.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ei.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),ei.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ei.resolve()}updateTargetData(e,t){return this.Kn(t),ei.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ei.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),ei.waitFor(i).next(()=>r)}getTargetCount(e){return ei.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return ei.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),ei.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ei.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ei.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return ei.resolve(n)}containsKey(e,t){return ei.resolve(this.Br.containsKey(t))}}class rl{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ri(0),this.Kr=!1,this.Kr=!0,this.$r=new $o,this.referenceDelegate=e(this),this.Ur=new nl(this),this.indexManager=new zo,this.remoteDocumentCache=function(e){return new el(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new Fo(t),this.Gr=new Qo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Zo(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){yr("MemoryPersistence","Starting transaction:",e);const r=new il(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return ei.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class il extends Xr{constructor(e){super(),this.currentSequenceNumber=e}}class sl{constructor(e){this.persistence=e,this.Jr=new Yo,this.Yr=null}static Zr(e){return new sl(e)}get Xr(){if(this.Yr)return this.Yr;throw wr()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),ei.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),ei.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ei.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ei.forEach(this.Xr,n=>{const r=Wr.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,Vr.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ei.or([()=>ei.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class al{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Zs(),r=Zs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new al(e,t.fromCache,n,r)}}class ol{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ll{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=ot()?8:ti(st())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ol;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(gr()<=jt.DEBUG&&yr("QueryEngine","SDK will not create cache indexes for query:",Ms(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ei.resolve()):(gr()<=jt.DEBUG&&yr("QueryEngine","Query:",Ms(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(gr()<=jt.DEBUG&&yr("QueryEngine","The SDK decides to create cache indexes for query:",Ms(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(t))):ei.resolve())}Yi(e,t){if(Ts(t))return ei.resolve(null);let n=As(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Rs(t,null,"F"),n=As(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Zs(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Rs(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return Ts(t)||r.isEqual(Vr.min())?ei.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?ei.resolve(null):(gr()<=jt.DEBUG&&yr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ms(t)),this.rs(e,s,t,Gr(r,-1)).next(e=>e))})}ts(e,t){let n=new yi(Vs(e));return t.forEach((t,r)=>{Fs(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return gr()<=jt.DEBUG&&yr("QueryEngine","Using full collection scan to execute query:",Ms(t)),this.Ji.getDocumentsMatchingQuery(e,t,Jr.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class cl{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new pi(Mr),this._s=new Bs(e=>ks(e),Ns),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Go(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function ul(e,t,n,r){return new cl(e,t,n,r)}async function dl(e,t){const n=Nr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Zs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function hl(e){const t=Nr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function fl(e,t,n){let r=Zs(),i=Zs();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Hs();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Vr.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):yr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function pl(e,t){const n=Nr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function ml(e,t){const n=Nr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,ei.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Mo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function gl(e,t,n){const r=Nr(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ni(e))throw e;yr("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function yl(e,t,n){const r=Nr(e);let i=Vr.min(),s=Zs();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Nr(e),i=r._s.get(n);return void 0!==i?ei.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,As(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Vr.min(),n?s:Zs())).next(e=>(vl(r,Us(t),e),{documents:e,Ts:s})))}function vl(e,t,n){let r=e.us.get(t)||Vr.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class xl{constructor(){this.activeTargetIds=ta()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bl{constructor(){this.so=new xl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new xl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wl{_o(e){}shutdown(){}}class kl{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){yr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){yr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nl=null;function El(){return null===Nl?Nl=268435456+Math.round(2147483648*Math.random()):Nl++,"0x"+Nl.toString(16)}const _l={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sl{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const jl="WebChannelConnection";class Tl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=El(),a=this.xo(e,t.toUriEncodedString());yr("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(yr("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw xr("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=_l[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=El();return new Promise((s,a)=>{const o=new nr;o.setWithCredentials(!0),o.listenOnce(ir.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case sr.NO_ERROR:const t=o.getResponseJson();yr(jl,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case sr.TIMEOUT:yr(jl,"RPC '".concat(e,"' ").concat(i," timed out")),a(new _r(Er.DEADLINE_EXCEEDED,"Request time out"));break;case sr.HTTP_ERROR:const n=o.getStatus();if(yr(jl,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Er).indexOf(t)>=0?t:Er.UNKNOWN}(t.status);a(new _r(e,t.message))}else a(new _r(Er.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new _r(Er.UNAVAILABLE,"Connection failed."));break;default:wr()}}finally{yr(jl,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);yr(jl,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=El(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cr(),a=lr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");yr(jl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Sl({Io:t=>{h?yr(jl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(yr(jl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),yr(jl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,rr.EventType.OPEN,()=>{h||(yr(jl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,rr.EventType.CLOSE,()=>{h||(h=!0,yr(jl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,rr.EventType.ERROR,t=>{h||(h=!0,xr(jl,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new _r(Er.UNAVAILABLE,"The operation could not be completed")))}),p(u,rr.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];kr(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){yr(jl,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Fa[e];if(void 0!==t)return za(t)}(t),i=a.message;void 0===n&&(n=Er.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new _r(n,i)),u.close()}else yr(jl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,or.STAT_EVENT,t=>{t.stat===ar.PROXY?yr(jl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ar.NOPROXY&&yr(jl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function Cl(){return"undefined"!=typeof document?document:null}function Il(e){return new oo(e,!0)}class Al{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&yr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Pl{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Al(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Er.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Er.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new _r(Er.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return yr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(yr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dl extends Pl{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(kr(void 0===t||"string"==typeof t),wi.fromBase64String(t||"")):(kr(void 0===t||t instanceof Buffer||t instanceof Uint8Array),wi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Er.UNKNOWN:za(e.code);return new _r(t,e.message||"")}(a);n=new Za(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vo(e,r.document.name),s=fo(r.document.updateTime),a=r.document.createTime?fo(r.document.createTime):Vr.min(),o=new Ji({mapValue:{fields:r.document.fields}}),l=Yi.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ya(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vo(e,r.document),s=r.readTime?fo(r.readTime):Vr.min(),a=Yi.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ya([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vo(e,r.document),s=r.removedTargetIds||[];n=new Ya([],s,i,null)}else{if(!("filter"in t))return wr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ma(r,i),a=e.targetId;n=new Xa(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Vr.min():t.readTime?fo(t.readTime):Vr.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=wo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Es(r)?{documents:_o(e,r)}:{query:So(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uo(e,t.resumeToken);const r=lo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Vr.min())>0){n.readTime=co(e,t.snapshotVersion.toTimestamp());const r=lo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=wo(this.serializer),t.removeTarget=e,this.a_(t)}}class Rl extends Pl{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return kr(!!e.streamToken),this.lastStreamToken=e.streamToken,kr(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){kr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(kr(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?fo(e.updateTime):fo(t);return n.isEqual(Vr.min())&&(n=fo(t)),new va(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=fo(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=wo(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Eo(this.serializer,e))};this.a_(t)}}class Ll extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new _r(Er.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,mo(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Er.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _r(Er.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,mo(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Er.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _r(Er.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ol{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(vr(t),this.D_=!1):yr("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ml{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{Kl(this)&&(yr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Nr(e);t.L_.add(4),await Ul(t),t.q_.set("Unknown"),t.L_.delete(4),await Fl(t)}(this))})}),this.q_=new Ol(n,r)}}async function Fl(e){if(Kl(e))for(const t of e.B_)await t(!0)}async function Ul(e){for(const t of e.B_)await t(!1)}function Vl(e,t){const n=Nr(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Wl(n)?Hl(n):dc(n).r_()&&Bl(n,t))}function zl(e,t){const n=Nr(e),r=dc(n);n.N_.delete(t),r.r_()&&ql(n,t),0===n.N_.size&&(r.r_()?r.o_():Kl(n)&&n.q_.set("Unknown"))}function Bl(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dc(e).A_(t)}function ql(e,t){e.Q_.xe(t),dc(e).R_(t)}function Hl(e){e.Q_=new to({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),dc(e).start(),e.q_.v_()}function Wl(e){return Kl(e)&&!dc(e).n_()&&e.N_.size>0}function Kl(e){return 0===Nr(e).L_.size}function Gl(e){e.Q_=void 0}async function Ql(e){e.q_.set("Online")}async function Jl(e){e.N_.forEach((t,n)=>{Bl(e,t)})}async function $l(e,t){Gl(e),Wl(e)?(e.q_.M_(t),Hl(e)):e.q_.set("Unknown")}async function Yl(e,t,n){if(e.q_.set("Online"),t instanceof Za&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){yr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Xl(e,n)}else if(t instanceof Ya?e.Q_.Ke(t):t instanceof Xa?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Vr.min()))try{const t=await hl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(wi.EMPTY_BYTE_STRING,r.snapshotVersion)),ql(e,t);const i=new Mo(r.target,t,n,r.sequenceNumber);Bl(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){yr("RemoteStore","Failed to raise snapshot:",t),await Xl(e,t)}}async function Xl(e,t,n){if(!ni(t))throw t;e.L_.add(1),await Ul(e),e.q_.set("Offline"),n||(n=()=>hl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yr("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Fl(e)})}function Zl(e,t){return t().catch(n=>Xl(e,n,t))}async function ec(e){const t=Nr(e),n=hc(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;tc(t);)try{const e=await pl(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,nc(t,e)}catch(e){await Xl(t,e)}rc(t)&&ic(t)}function tc(e){return Kl(e)&&e.O_.length<10}function nc(e,t){e.O_.push(t);const n=hc(e);n.r_()&&n.V_&&n.m_(t.mutations)}function rc(e){return Kl(e)&&!hc(e).n_()&&e.O_.length>0}function ic(e){hc(e).start()}async function sc(e){hc(e).p_()}async function ac(e){const t=hc(e);for(const n of e.O_)t.m_(n.mutations)}async function oc(e,t,n){const r=e.O_.shift(),i=La.from(r,t,n);await Zl(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ec(e)}async function lc(e,t){t&&hc(e).V_&&await async function(e,t){if(function(e){return Va(e)&&e!==Er.ABORTED}(t.code)){const n=e.O_.shift();hc(e).s_(),await Zl(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ec(e)}}(e,t),rc(e)&&ic(e)}async function cc(e,t){const n=Nr(e);n.asyncQueue.verifyOperationInProgress(),yr("RemoteStore","RemoteStore received new credentials");const r=Kl(n);n.L_.add(3),await Ul(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Fl(n)}async function uc(e,t){const n=Nr(e);t?(n.L_.delete(2),await Fl(n)):t||(n.L_.add(2),await Ul(n),n.q_.set("Unknown"))}function dc(e){return e.K_||(e.K_=function(e,t,n){const r=Nr(e);return r.w_(),new Dl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Ql.bind(null,e),Ro:Jl.bind(null,e),mo:$l.bind(null,e),d_:Yl.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Wl(e)?Hl(e):e.q_.set("Unknown")):(await e.K_.stop(),Gl(e))})),e.K_}function hc(e){return e.U_||(e.U_=function(e,t,n){const r=Nr(e);return r.w_(),new Rl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sc.bind(null,e),mo:lc.bind(null,e),f_:ac.bind(null,e),g_:oc.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await ec(e)):(await e.U_.stop(),e.O_.length>0&&(yr("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class fc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new fc(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _r(Er.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pc(e,t){if(vr("AsyncQueue","".concat(t,": ").concat(e)),ni(e))return new _r(Er.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class mc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wr.comparator(t.key,n.key):(e,t)=>Wr.comparator(e.key,t.key),this.keyedMap=Ks(),this.sortedSet=new pi(this.comparator)}static emptySet(e){return new mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new mc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class gc{constructor(){this.W_=new pi(Wr.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):wr():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class yc{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new yc(e,t,mc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ls(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vc{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xc{constructor(){this.queries=bc(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Nr(e),r=n.queries;n.queries=bc(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new _r(Er.ABORTED,"Firestore shutting down"))}}function bc(){return new Bs(e=>Os(e),Ls)}async function wc(e,t){const n=Nr(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new vc,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=pc(e,"Initialization of query '".concat(Ms(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&_c(n)}async function kc(e,t){const n=Nr(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nc(e,t){const n=Nr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&_c(n)}function Ec(e,t,n){const r=Nr(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function _c(e){e.Y_.forEach(e=>{e.next()})}var Sc,jc;(jc=Sc||(Sc={})).ea="default",jc.Cache="cache";class Tc{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new yc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sc.Cache}}class Cc{constructor(e){this.key=e}}class Ic{constructor(e){this.key=e}}class Ac{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Zs(),this.mutatedKeys=Zs(),this.Aa=Vs(e),this.Ra=new mc(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new gc,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Fs(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wr()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new yc(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Zs(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Ic(e))}),this.da.forEach(n=>{e.has(n)||t.push(new Cc(n))}),t}ba(e){this.Ta=e.Ts,this.da=Zs();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return yc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Pc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Dc{constructor(e){this.key=e,this.va=!1}}class Rc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Bs(e=>Os(e),Ls),this.Ma=new Map,this.xa=new Set,this.Oa=new pi(Wr.comparator),this.Na=new Map,this.La=new Yo,this.Ba={},this.ka=new Map,this.qa=Ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Lc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=nu(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Mc(r,t,n,!0),i}async function Oc(e,t){const n=nu(e);await Mc(n,t,!0,!1)}async function Mc(e,t,n,r){const i=await ml(e.localStore,As(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Fc(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Vl(e.remoteStore,i),o}async function Fc(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await yl(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return $c(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await yl(e.localStore,t,!0),a=new Ac(t,s.Ts),o=a.ma(s.documents),l=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);$c(e,n,c.wa);const u=new Pc(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Uc(e,t,n){const r=Nr(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!Ls(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zl(r.remoteStore,i.targetId),Qc(r,i.targetId)}).catch(Zr)):(Qc(r,i.targetId),await gl(r.localStore,i.targetId,!0))}async function Vc(e,t){const n=Nr(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zl(n.remoteStore,r.targetId))}async function zc(e,t){const n=Nr(e);try{const e=await function(e,t){const n=Nr(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(wi.EMPTY_BYTE_STRING,Vr.min()).withLastLimboFreeSnapshotVersion(Vr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=Hs(),l=Zs();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(fl(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(Vr.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return ei.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(kr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?kr(r.va):e.removedDocuments.size>0&&(kr(r.va),r.va=!1))}),await Zc(n,e,t)}catch(e){await Zr(e)}}function Bc(e,t,n){const r=Nr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Nr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&_c(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qc(e,t,n){const r=Nr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new pi(Wr.comparator);e=e.insert(s,Yi.newNoDocument(s,Vr.min()));const n=Zs().add(s),i=new Ja(Vr.min(),new Map,new pi(Mr),e,n);await zc(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Xc(r)}else await gl(r.localStore,t,!1).then(()=>Qc(r,t,n)).catch(Zr)}async function Hc(e,t){const n=Nr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Nr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=ei.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);kr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Gc(n,r,null),Kc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zc(n,e)}catch(e){await Zr(e)}}async function Wc(e,t,n){const r=Nr(e);try{const e=await function(e,t){const n=Nr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(kr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Gc(r,t,n),Kc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Zc(r,e)}catch(n){await Zr(n)}}function Kc(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function Gc(e,t,n){const r=Nr(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Qc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Jc(e,t)})}function Jc(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(zl(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Xc(e))}function $c(e,t,n){for(const r of n)r instanceof Cc?(e.La.addReference(r.key,t),Yc(e,r)):r instanceof Ic?(yr("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Jc(e,r.key)):wr()}function Yc(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(yr("SyncEngine","New document in limbo: "+n),e.xa.add(r),Xc(e))}function Xc(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Wr(Br.fromString(t)),r=e.qa.next();e.Na.set(r,new Dc(n)),e.Oa=e.Oa.insert(n,r),Vl(e.remoteStore,new Mo(As(js(n.path)),r,"TargetPurposeLimboResolution",ri.oe))}}async function Zc(e,t,n){const r=Nr(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=al.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Nr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ei.forEach(t,t=>ei.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ei.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ni(e))throw e;yr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function eu(e,t){const n=Nr(e);if(!n.currentUser.isEqual(t)){yr("SyncEngine","User change. New user:",t.toKey());const e=await dl(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new _r(Er.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zc(n,e.hs)}}function tu(e,t){const n=Nr(e),r=n.Na.get(t);if(r&&r.va)return Zs().add(r.key);{let e=Zs();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function nu(e){const t=Nr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qc.bind(null,t),t.Ca.d_=Nc.bind(null,t.eventManager),t.Ca.$a=Ec.bind(null,t.eventManager),t}function ru(e){const t=Nr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wc.bind(null,t),t}class iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Il(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ul(this.persistence,new ll,e.initialUser,this.serializer)}Ga(e){return new rl(sl.Zr,this.serializer)}Wa(e){return new bl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iu.provider={build:()=>new iu};class su{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Bc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=eu.bind(null,this.syncEngine),await uc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xc}createDatastore(e){const t=Il(e.databaseInfo.databaseId),n=function(e){return new Tl(e)}(e.databaseInfo);return function(e,t,n,r){return new Ll(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ml(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Bc(this.syncEngine,e,0),kl.D()?new kl:new wl)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Rc(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Nr(e);yr("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Ul(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}su.provider={build:()=>new su};class au{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class ou{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fr.UNAUTHENTICATED,this.clientId=Or.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{yr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(yr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=pc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function lu(e,t){e.asyncQueue.verifyOperationInProgress(),yr("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await dl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function cu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await uu(e);yr("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>cc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cc(t.remoteStore,n)),e._onlineComponents=t}async function uu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yr("FirestoreClient","Using user provided OfflineComponentProvider");try{await lu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Er.FAILED_PRECONDITION||e.code===Er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;xr("Error using user provided cache. Falling back to memory cache: "+n),await lu(e,new iu)}}else yr("FirestoreClient","Using default OfflineComponentProvider"),await lu(e,new iu);return e._offlineComponents}async function du(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yr("FirestoreClient","Using user provided OnlineComponentProvider"),await cu(e,e._uninitializedComponentsProvider._online)):(yr("FirestoreClient","Using default OnlineComponentProvider"),await cu(e,new su))),e._onlineComponents}function hu(e){return du(e).then(e=>e.syncEngine)}async function fu(e){const t=await du(e),n=t.eventManager;return n.onListen=Lc.bind(null,t.syncEngine),n.onUnlisten=Uc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Oc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Vc.bind(null,t.syncEngine),n}function pu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new au({next:o=>{s.Za(),t.enqueueAndForget(()=>kc(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new _r(Er.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new _r(Er.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Tc(js(n.path),s,{includeMetadataChanges:!0,_a:!0});return wc(e,a)}(await fu(e),e.asyncQueue,t,n,r)),r.promise}function mu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new au({next:n=>{s.Za(),t.enqueueAndForget(()=>kc(e,a)),n.fromCache&&"server"===r.source?i.reject(new _r(Er.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Tc(n,s,{includeMetadataChanges:!0,_a:!0});return wc(e,a)}(await fu(e),e.asyncQueue,t,n,r)),r.promise}function gu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const yu=new Map;function vu(e,t,n){if(!n)throw new _r(Er.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xu(e){if(!Wr.isDocumentKey(e))throw new _r(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bu(e){if(Wr.isDocumentKey(e))throw new _r(Er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":wr()}function ku(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _r(Er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wu(e);throw new _r(Er.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Nu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _r(Er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _r(Er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _r(Er.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _r(Er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _r(Er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _r(Er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nu({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _r(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _r(Er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tr;switch(e.type){case"firstParty":return new Pr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _r(Er.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yu.get(e);t&&(yr("ComponentProvider","Removing Datastore"),yu.delete(e),t.terminate())}(this),Promise.resolve()}}function _u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ku(e,Eu))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new _r(Er.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fr(s)}e._authCredentials=new Cr(new jr(t,n))}}class Su{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Su(this.firestore,e,this._query)}}class ju{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ju(this.firestore,e,this._key)}}class Tu extends Su{constructor(e,t,n){super(e,t,js(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ju(this.firestore,null,new Wr(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function Cu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wt(e),vu("collection","path",t),e instanceof Eu){const n=Br.fromString(t,...r);return bu(n),new Tu(e,null,n)}{if(!(e instanceof ju||e instanceof Tu))throw new _r(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Br.fromString(t,...r));return bu(n),new Tu(e.firestore,null,n)}}function Iu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wt(e),1===arguments.length&&(t=Or.newId()),vu("doc","path",t),e instanceof Eu){const n=Br.fromString(t,...r);return xu(n),new ju(e,null,new Wr(n))}{if(!(e instanceof ju||e instanceof Tu))throw new _r(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Br.fromString(t,...r));return xu(n),new ju(e.firestore,e instanceof Tu?e.converter:null,new Wr(n))}}class Au{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Al(this,"async_queue_retry"),this.Vu=()=>{const e=Cl();e&&yr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Cl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Cl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(zg){if(!ni(zg))throw zg;yr("AsyncQueue","Operation failed with retryable error: "+zg)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vr("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=fc.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&wr()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Pu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Du extends Eu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Au,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Au(e),this._firestoreClient=void 0,await e}}}function Ru(e){if(e._terminated)throw new _r(Er.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Lu(e),e._firestoreClient}function Lu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ci(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gu(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ou(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(wi.fromBase64String(e))}catch(e){throw new _r(Er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ou(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _r(Er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fu{constructor(e){this._methodName=e}}class Uu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _r(Er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _r(Er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mr(this._lat,e._lat)||Mr(this._long,e._long)}}class Vu{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const zu=/^__.*__$/;class Bu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new ja(e,this.data,t,this.fieldTransforms)}}class qu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wr()}}class Wu{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Wu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return od(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Hu(this.Cu)&&zu.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ku{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Il(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Wu({Cu:e,methodName:t,qu:n,path:Hr.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(e){const t=e._freezeSettings(),n=Il(e._databaseId);return new Ku(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qu(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);rd("Data must be an object, but it was:",a,r);const o=td(r,a);let l,c;if(s.merge)l=new xi(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=id(t,r,n);if(!a.contains(i))throw new _r(Er.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ld(e,i)||e.push(i)}l=new xi(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Bu(new Ji(o),l,c)}class Ju extends Fu{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ju}}class $u extends Fu{_toFieldTransform(e){return new ya(e.path,new ca)}isEqual(e){return e instanceof $u}}function Yu(e,t,n,r){const i=e.Qu(1,t,n);rd("Data must be an object, but it was:",i,r);const s=[],a=Ji.empty();hi(r,(e,r)=>{const o=ad(t,e,n);r=wt(r);const l=i.Nu(o);if(r instanceof Ju)s.push(o);else{const e=ed(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new xi(s);return new qu(a,o,i.fieldTransforms)}function Xu(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[id(t,r,n)],l=[i];if(s.length%2!=0)throw new _r(Er.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(id(t,s[h])),l.push(s[h+1]);const c=[],u=Ji.empty();for(let h=o.length-1;h>=0;--h)if(!ld(c,o[h])){const e=o[h];let t=l[h];t=wt(t);const n=a.Nu(e);if(t instanceof Ju)c.push(e);else{const r=ed(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new xi(c);return new qu(u,d,a.fieldTransforms)}function Zu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ed(n,e.Qu(r?4:3,t))}function ed(e,t){if(nd(e=wt(e)))return rd("Unsupported field value:",t,e),td(e,t);if(e instanceof Fu)return function(e,t){if(!Hu(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ed(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=wt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ia(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ur.fromDate(e);return{timestampValue:co(t.serializer,n)}}if(e instanceof Ur){const n=new Ur(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:co(t.serializer,n)}}if(e instanceof Uu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ou)return{bytesValue:uo(t.serializer,e._byteString)};if(e instanceof ju){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:po(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Vu)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return na(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(wu(e)))}(e,t)}function td(e,t){const n={};return fi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hi(e,(e,r)=>{const i=ed(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function nd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ur||e instanceof Uu||e instanceof Ou||e instanceof ju||e instanceof Fu||e instanceof Vu)}function rd(e,t,n){if(!nd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wu(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function id(e,t,n){if((t=wt(t))instanceof Mu)return t._internalPath;if("string"==typeof t)return ad(e,t);throw od("Field path arguments must be of type string or ",e,!1,void 0,n)}const sd=new RegExp("[~\\*/\\[\\]]");function ad(e,t,n){if(t.search(sd)>=0)throw od("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Mu(...t.split("."))._internalPath}catch(r){throw od("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function od(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new _r(Er.INVALID_ARGUMENT,o+e+l)}function ld(e,t){return e.some(e=>e.isEqual(t))}class cd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ju(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ud(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ud extends cd{data(){return super.data()}}function dd(e,t){return"string"==typeof t?ad(e,t):t instanceof Mu?t._internalPath:t._delegate._internalPath}function hd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _r(Er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fd{}class pd extends fd{}function md(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof fd&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof yd).length,n=e.filter(e=>e instanceof gd).length;if(t>1||t>0&&n>0)throw new _r(Er.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class gd extends pd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new gd(e,t,n)}_apply(e){const t=this._parse(e);return kd(e._query,t),new Su(e.firestore,e.converter,Ds(e._query,t))}_parse(e){const t=Gu(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new _r(Er.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){wd(a,s);const t=[];for(const n of a)t.push(bd(r,e,n));o={arrayValue:{values:t}}}else o=bd(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||wd(a,s),o=Zu(n,t,a,"in"===s||"not-in"===s);return is.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class yd extends fd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yd(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ss.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)kd(n,i),n=Ds(n,i)}(e._query,t),new Su(e.firestore,e.converter,Ds(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vd extends pd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vd(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new _r(Er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _r(Er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ts(t,n)}(e._query,this._field,this._direction);return new Su(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _s(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function xd(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dd("orderBy",e);return vd._create(n,t)}function bd(e,t,n){if("string"==typeof(n=wt(n))){if(""===n)throw new _r(Er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cs(t)&&-1!==n.indexOf("/"))throw new _r(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Br.fromString(n));if(!Wr.isDocumentKey(r))throw new _r(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Vi(e,new Wr(r))}if(n instanceof ju)return Vi(e,n._key);throw new _r(Er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wu(n),"."))}function wd(e,t){if(!Array.isArray(e)||0===e.length)throw new _r(Er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function kd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _r(Er.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _r(Er.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Nd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return hi(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ei(e.doubleValue));return new Vu(i)}convertGeoPoint(e){return new Uu(Ei(e.latitude),Ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ji(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ti(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new Ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Br.fromString(e);kr(Oo(n));const r=new Ii(n.get(1),n.get(3)),i=new Wr(n.popFirst(5));return r.isEqual(t)||vr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ed(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class _d{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends cd{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jd extends Sd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Td{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new _d(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new jd(this._firestore,this._userDataWriter,n.key,n,new _d(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _r(Er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new jd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new _d(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new jd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _d(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Cd(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Cd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wr()}}class Id extends Nd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ju(this.firestore,null,t)}}function Ad(e){e=ku(e,Su);const t=ku(e.firestore,Du),n=Ru(t),r=new Id(t);return hd(e._query),mu(n,e._query).then(n=>new Td(t,r,e,n))}function Pd(e,t){const n=ku(e.firestore,Du),r=Iu(e),i=Ed(e.converter,t);return Rd(n,[Qu(Gu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xa.exists(!1))]).then(()=>r)}function Dd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=wt(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Pu(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Pu(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof ju)d=ku(e.firestore,Du),h=js(e._key.path),u={next:t=>{n[l]&&n[l](Ld(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ku(e,Su);d=ku(t.firestore,Du),h=t._query;const r=new Id(d);u={next:e=>{n[l]&&n[l](new Td(d,r,t,e))},error:n[l+1],complete:n[l+2]},hd(e._query)}return function(e,t,n,r){const i=new au(r),s=new Tc(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>wc(await fu(e),s)),()=>{i.Za(),e.asyncQueue.enqueueAndForget(async()=>kc(await fu(e),s))}}(Ru(d),h,c,u)}function Rd(e,t){return function(e,t){const n=new Sr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ru(e);try{const e=await function(e,t){const n=Nr(e),r=Ur.now(),i=t.reduce((e,t)=>e.add(t.key),Zs());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Hs(),l=Zs();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=_a(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ta(e.key,t,$i(t.value.mapValue),xa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Gs(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new pi(Mr)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Zc(r,e.changes),await ec(r.remoteStore)}catch(e){const t=pc(e,"Failed to persist write");n.reject(t)}}(await hu(e),t,n)),n.promise}(Ru(e),t)}function Ld(e,t,n){const r=n.docs.get(t._key),i=new Id(e);return new Sd(e,i,t._key,r,new _d(n.hasPendingWrites,n.fromCache),t.converter)}function Od(){return new $u("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pr=e}(Fn),Dn(new kt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Du(new Ir(e.getProvider("auth-internal")),new Rr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _r(Er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ii(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zn(hr,"4.7.3",e),zn(hr,"4.7.3","esm2017")}();zn("firebase","10.14.1","app");const Md="@firebase/installations",Fd="0.6.9",Ud=1e4,Vd="w:".concat(Fd),zd="FIS_v2",Bd=36e5,qd=new dt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Hd(e){return e instanceof ut&&e.code.includes("request-failed")}function Wd(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Kd(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Gd(e,t){const n=(await t.json()).error;return qd.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Qd(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jd(e,t){let{refreshToken:n}=t;const r=Qd(e);return r.append("Authorization",function(e){return"".concat(zd," ").concat(e)}(n)),r}async function $d(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Yd(e){return new Promise(t=>{setTimeout(t,e)})}const Xd=/^[cdef][\w-]{21}$/;function Zd(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Xd.test(t)?t:""}catch(e){return""}}function eh(e){return"".concat(e.appName,"!").concat(e.appId)}const th=new Map;function nh(e,t){const n=eh(e);rh(n,t),function(e,t){const n=sh();n&&n.postMessage({key:e,fid:t});ah()}(n,t)}function rh(e,t){const n=th.get(e);if(n)for(const r of n)r(t)}let ih=null;function sh(){return!ih&&"BroadcastChannel"in self&&(ih=new BroadcastChannel("[Firebase] FID Change"),ih.onmessage=e=>{rh(e.data.key,e.data.fid)}),ih}function ah(){0===th.size&&ih&&(ih.close(),ih=null)}const oh="firebase-installations-store";let lh=null;function ch(){return lh||(lh=Wt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(oh)}})),lh}async function uh(e,t){const n=eh(e),r=(await ch()).transaction(oh,"readwrite"),i=r.objectStore(oh),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||nh(e,t.fid),t}async function dh(e){const t=eh(e),n=(await ch()).transaction(oh,"readwrite");await n.objectStore(oh).delete(t),await n.done}async function hh(e,t){const n=eh(e),r=(await ch()).transaction(oh,"readwrite"),i=r.objectStore(oh),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||nh(e,a.fid),a}async function fh(e){let t;const n=await hh(e.appConfig,n=>{const r=function(e){const t=e||{fid:Zd(),registrationStatus:0};return gh(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(qd.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Wd(n),a=Qd(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:zd,appId:n.appId,sdkVersion:Vd},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await $d(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Kd(e.authToken)}}throw await Gd("Create Installation",u)}(e,t);return uh(e.appConfig,n)}catch(zg){throw Hd(zg)&&409===zg.customData.serverCode?await dh(e.appConfig):await uh(e.appConfig,{fid:t.fid,registrationStatus:0}),zg}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ph(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ph(e){let t=await mh(e.appConfig);for(;1===t.registrationStatus;)await Yd(100),t=await mh(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await fh(e);return n||t}return t}function mh(e){return hh(e,e=>{if(!e)throw qd.create("installation-not-found");return gh(e)})}function gh(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ud<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function yh(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Wd(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Jd(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:Vd,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await $d(()=>fetch(i,l));if(c.ok){return Kd(await c.json())}throw await Gd("Generate Auth Token",c)}async function vh(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await hh(e.appConfig,r=>{if(!bh(r))throw qd.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Bd}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await xh(e.appConfig);for(;1===n.authToken.requestStatus;)await Yd(100),n=await xh(e.appConfig);const r=n.authToken;return 0===r.requestStatus?vh(e,t):r}(e,n),r;{if(!navigator.onLine)throw qd.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await yh(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await uh(e.appConfig,r),n}catch(zg){if(!Hd(zg)||401!==zg.customData.serverCode&&404!==zg.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await uh(e.appConfig,n)}else await dh(e.appConfig);throw zg}}(e,n),n}});return t?await t:r.authToken}function xh(e){return hh(e,e=>{if(!bh(e))throw qd.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ud<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function bh(e){return void 0!==e&&2===e.registrationStatus}async function wh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await fh(e);t&&await t}(n);return(await vh(n,t)).token}function kh(e){return qd.create("missing-app-config-values",{valueName:e})}const Nh="installations",Eh=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kh("App Configuration");if(!e.name)throw kh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Rn(t,"heartbeat"),_delete:()=>Promise.resolve()}},_h=e=>{const t=Rn(e.getProvider("app").getImmediate(),Nh).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await fh(t);return r?r.catch(console.error):vh(t).catch(console.error),n.fid}(t),getToken:e=>wh(t,e)}};Dn(new kt(Nh,Eh,"PUBLIC")),Dn(new kt("installations-internal",_h,"PRIVATE")),zn(Md,Fd),zn(Md,Fd,"esm2017");const Sh="analytics",jh="https://www.googletagmanager.com/gtag/js",Th=new Pt("@firebase/analytics"),Ch=new dt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ih(e){if(!e.startsWith(jh)){const t=Ch.create("invalid-gtag-resource",{gtagURL:e});return Th.warn(t.message),""}return e}function Ah(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Ph(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Ih}),r=document.createElement("script"),i="".concat(jh,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Dh(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Ah(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(zg){Th.error(zg)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Ah(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(zg){Th.error(zg)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(zg){Th.error(zg)}}}const Rh=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Lh(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Oh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rh,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Ch.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ch.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Fh;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Mh({appId:r,apiKey:i,measurementId:s},a,o,t)}async function Mh(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rh;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Ch.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(zg){if(l)return Th.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===zg||void 0===zg?void 0:zg.message,"]")),{appId:o,measurementId:l};throw zg}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Lh(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Ch.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(zg){const r=zg;if(!function(e){if(!(e instanceof ut)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return Th.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw zg}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?bt(i,s.intervalMillis,30):bt(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),Th.debug("Calling attemptFetch again in ".concat(c," millis")),Mh(e,u,n,s)}}class Fh{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Uh,Vh;function zh(e){Vh=e}function Bh(e){Uh=e}async function qh(e,t,n,r,i,s,a){var o;const l=Oh(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Th.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Th.error(e)),t.push(l);const c=async function(){if(!lt())return Th.warn(Ch.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ct()}catch(zg){return Th.warn(Ch.create("indexeddb-unavailable",{errorInfo:null===zg||void 0===zg?void 0:zg.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(jh)&&n.src.includes(e))return n;return null})(s)||Ph(s,u.measurementId),Vh&&(i("consent","default",Vh),zh(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Uh&&(i("set",Uh),Bh(void 0)),u.measurementId}class Hh{constructor(e){this.app=e}_delete(){return delete Wh[this.app.options.appId],Promise.resolve()}}let Wh={},Kh=[];const Gh={};let Qh,Jh,$h="dataLayer",Yh="gtag",Xh=!1;function Zh(){const e=[];if(at()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Ch.create("invalid-analytics-context",{errorInfo:t});Th.warn(n.message)}}function ef(e,t,n){Zh();const r=e.options.appId;if(!r)throw Ch.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ch.create("no-api-key");Th.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Wh[r])throw Ch.create("already-exists",{id:r});if(!Xh){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}($h);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Dh(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Wh,Kh,Gh,$h,Yh);Jh=e,Qh=t,Xh=!0}Wh[r]=qh(e,Kh,Gh,t,Qh,$h,n);return new Hh(e)}function tf(e,t,n,r){e=wt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Jh,Wh[e.app.options.appId],t,n,r).catch(e=>Th.error(e))}const nf="@firebase/analytics",rf="0.10.8";Dn(new kt(Sh,(e,t)=>{let{options:n}=t;return ef(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Dn(new kt("analytics-internal",function(e){try{const t=e.getProvider(Sh).getImmediate();return{logEvent:(e,n,r)=>tf(t,e,n,r)}}catch(zg){throw Ch.create("interop-component-reg-failed",{reason:zg})}},"PRIVATE")),zn(nf,rf),zn(nf,rf,"esm2017");function sf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function af(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const of=af,lf=new dt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cf=new Pt("@firebase/auth");function uf(e){if(cf.logLevel<=jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cf.error("Auth (".concat(Fn,"): ").concat(e),...n)}}function df(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mf(e,...n)}function hf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mf(e,...n)}function ff(e,t,n){const r=Object.assign(Object.assign({},of()),{[t]:n});return new dt("auth","Firebase",r).create(t,{appName:e.name})}function pf(e){return ff(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return lf.create(e,...n)}function gf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mf(t,...r)}}function yf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uf(t),new Error(t)}function vf(e,t){e||yf(t)}function xf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bf(){return"http:"===wf()||"https:"===wf()}function wf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class kf{constructor(e,t){this.shortDelay=e,this.longDelay=t,vf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bf()||at()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Nf(e,t){vf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ef{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _f={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Sf=new kf(3e4,6e4);function jf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Tf(e,t,n,r){return Cf(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=mt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ef.fetch()(Af(e,e.config.apiHost,n,a),l)})}async function Cf(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_f),t);try{const t=new Df(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Rf(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Rf(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Rf(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Rf(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ff(e,o,a);df(e,o)}}catch(zg){if(zg instanceof ut)throw zg;df(e,"network-request-failed",{message:String(zg)})}}async function If(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Tf(e,t,n,r,i);return"mfaPendingCredential"in s&&df(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Af(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Nf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Pf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Df{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(hf(this.auth,"network-request-failed")),Sf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hf(e,t,r);return i.customData._tokenResponse=n,i}function Lf(e){return void 0!==e&&void 0!==e.enterprise}class Of{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Mf(e,t){return Tf(e,"GET","/v2/recaptchaConfig",jf(e,t))}async function Ff(e,t){return Tf(e,"POST","/v1/accounts:lookup",t)}function Uf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(zg){}}function Vf(e){return 1e3*Number(e)}function zf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const e=Xe(n);return e?JSON.parse(e):(uf("Failed to decode base64 JWT payload"),null)}catch(zg){return uf("Caught error parsing JWT payload as JSON",null===zg||void 0===zg?void 0:zg.toString()),null}}function Bf(e){const t=zf(e);return gf(t,"internal-error"),gf("undefined"!==typeof t.exp,"internal-error"),gf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function qf(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(zg){throw zg instanceof ut&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(zg)&&e.auth.currentUser===e&&await e.auth.signOut(),zg}}class Hf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(zg){return void((null===zg||void 0===zg?void 0:zg.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Wf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await qf(e,Ff(n,{idToken:r}));gf(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Gf(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Wf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Gf(e){return e.map(e=>{var{providerId:t}=e,n=sf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Qf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gf(e.idToken,"internal-error"),gf("undefined"!==typeof e.idToken,"internal-error"),gf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Bf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gf(0!==e.length,"internal-error");const t=Bf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(gf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Cf(e,{},async()=>{const n=mt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Af(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ef.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Qf;return n&&(gf("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(gf("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(gf("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qf,this.toJSON())}_performRefresh(){return yf("not implemented")}}function Jf(e,t){gf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class $f{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=sf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await qf(this,this.stsTokenManager.getToken(this.auth,e));return gf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wt(e),r=await n.getIdToken(t),i=zf(r);gf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uf(Vf(i.auth_time)),issuedAtTime:Uf(Vf(i.iat)),expirationTime:Uf(Vf(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=wt(e);await Kf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(gf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $f(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){gf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Kf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(pf(this.auth));const e=await this.getIdToken();return await qf(this,async function(e,t){return Tf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:k}=t;gf(v&&k,e,"internal-error");const N=Qf.fromJSON(this.name,k);gf("string"===typeof v,e,"internal-error"),Jf(u,e.name),Jf(d,e.name),gf("boolean"===typeof x,e,"internal-error"),gf("boolean"===typeof b,e,"internal-error"),Jf(h,e.name),Jf(f,e.name),Jf(p,e.name),Jf(m,e.name),Jf(g,e.name),Jf(y,e.name);const E=new $f({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(E.providerData=w.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Qf;r.updateFromServerResponse(t);const i=new $f({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Kf(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];gf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Gf(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Qf;a.updateFromIdToken(n);const o=new $f({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Wf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Yf=new Map;function Xf(e){vf(e instanceof Function,"Expected a class definition");let t=Yf.get(e);return t?(vf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yf.set(e,t),t)}class Zf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zf.type="NONE";const ep=Zf;function tp(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class np{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=tp(this.userKey,r.apiKey,i),this.fullPersistenceKey=tp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$f._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new np(Xf(ep),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Xf(ep);const s=tp(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=$f._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new np(i,e,n)):new np(i,e,n)}}function rp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(op(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ip(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cp(t))return"Blackberry";if(up(t))return"Webos";if(sp(t))return"Safari";if((t.includes("chrome/")||ap(t))&&!t.includes("edge/"))return"Chrome";if(lp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/firefox\//i.test(e)}function sp(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:st()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/crios\//i.test(e)}function op(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/iemobile/i.test(e)}function lp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/android/i.test(e)}function cp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/blackberry/i.test(e)}function up(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/webos/i.test(e)}function dp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hp(){return function(){const e=st();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return dp(e)||lp(e)||up(e)||cp(e)||/windows phone/i.test(e)||op(e)}function pp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rp(st());break;case"Worker":t="".concat(rp(st()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Fn,"/").concat(r)}class mp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(zg){r(zg)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(zg){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===zg||void 0===zg?void 0:zg.message})}}}class gp{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class yp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new mp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xf(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await np.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(zg){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ff(this,{idToken:e}),n=await $f._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ln(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(zg){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(zg))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(zg){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(zg){if((null===zg||void 0===zg?void 0:zg.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(pf(this));const t=e?wt(e):null;return t&&gf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&gf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(pf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(pf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xf(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Tf(e,"GET","/v2/passwordPolicy",jf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new gp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Tf(e,"POST","/v2/accounts:revokeToken",jf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xf(e)||this._popupRedirectResolver;gf(t,this,"argument-error"),this.redirectPersistenceManager=await np.create(this,[Xf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(gf(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(cf.logLevel<=jt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cf.warn("Auth (".concat(Fn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function vp(e){return wt(e)}class xp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new vt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return gf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wp(e){return bp.loadJS(e)}function kp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Np{constructor(e){this.type="recaptcha-enterprise",this.auth=vp(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Lf(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Mf(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Of(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Lf(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=bp.recaptchaEnterpriseScript;0!==t.length&&(t+=i),wp(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ep(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Np(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _p(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ep(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ep(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Sp(e,t,n){const r=vp(e);gf(r._canInitEmulator,r,"emulator-config-failed"),gf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=jp(t),{host:a,port:o}=function(e){const t=jp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Tp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Tp(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function jp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Cp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yf("not implemented")}_getIdTokenResponse(e){return yf("not implemented")}_linkToIdToken(e,t){return yf("not implemented")}_getReauthenticationResolver(e){return yf("not implemented")}}async function Ip(e,t){return Tf(e,"POST","/v1/accounts:signUp",t)}async function Ap(e,t){return If(e,"POST","/v1/accounts:signInWithPassword",jf(e,t))}async function Pp(e,t){return Tf(e,"POST","/v1/accounts:sendOobCode",jf(e,t))}async function Dp(e,t){return Pp(e,t)}class Rp extends Cp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rp(e,t,"password")}static _fromEmailAndCode(e,t){return new Rp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return _p(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ap);case"emailLink":return async function(e,t){return If(e,"POST","/v1/accounts:signInWithEmailLink",jf(e,t))}(e,{email:this._email,oobCode:this._password});default:df(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return _p(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ip);case"emailLink":return async function(e,t){return If(e,"POST","/v1/accounts:signInWithEmailLink",jf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:df(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Lp(e,t){return If(e,"POST","/v1/accounts:signInWithIdp",jf(e,t))}class Op extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Op(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):df("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=sf(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Op(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Lp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Lp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mt(t)}return e}}const Mp={USER_NOT_FOUND:"user-not-found"};class Fp extends Cp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return If(e,"POST","/v1/accounts:signInWithPhoneNumber",jf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await If(e,"POST","/v1/accounts:signInWithPhoneNumber",jf(e,t));if(n.temporaryProof)throw Rf(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return If(e,"POST","/v1/accounts:signInWithPhoneNumber",jf(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Mp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Fp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Up{constructor(e){var t,n,r,i,s,a;const o=gt(yt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);gf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=gt(yt(e)).link,n=t?gt(yt(t)).deep_link_id:null,r=gt(yt(e)).deep_link_id;return(r?gt(yt(r)).link:null)||r||n||t||e}(e);try{return new Up(t)}catch(n){return null}}}class Vp{constructor(){this.providerId=Vp.PROVIDER_ID}static credential(e,t){return Rp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Up.parseLink(t);return gf(n,"argument-error"),Rp._fromEmailAndCode(e,n.code,n.tenantId)}}Vp.PROVIDER_ID="password",Vp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bp extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qp extends Bp{constructor(){super("facebook.com")}static credential(e){return Op._fromParams({providerId:qp.PROVIDER_ID,signInMethod:qp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qp.credentialFromTaggedObject(e)}static credentialFromError(e){return qp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qp.credential(t.oauthAccessToken)}catch(n){return null}}}qp.FACEBOOK_SIGN_IN_METHOD="facebook.com",qp.PROVIDER_ID="facebook.com";class Hp extends Bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Op._fromParams({providerId:Hp.PROVIDER_ID,signInMethod:Hp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hp.credentialFromTaggedObject(e)}static credentialFromError(e){return Hp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hp.credential(n,r)}catch(i){return null}}}Hp.GOOGLE_SIGN_IN_METHOD="google.com",Hp.PROVIDER_ID="google.com";class Wp extends Bp{constructor(){super("github.com")}static credential(e){return Op._fromParams({providerId:Wp.PROVIDER_ID,signInMethod:Wp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wp.credentialFromTaggedObject(e)}static credentialFromError(e){return Wp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wp.credential(t.oauthAccessToken)}catch(n){return null}}}Wp.GITHUB_SIGN_IN_METHOD="github.com",Wp.PROVIDER_ID="github.com";class Kp extends Bp{constructor(){super("twitter.com")}static credential(e,t){return Op._fromParams({providerId:Kp.PROVIDER_ID,signInMethod:Kp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kp.credentialFromTaggedObject(e)}static credentialFromError(e){return Kp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kp.credential(n,r)}catch(i){return null}}}async function Gp(e,t){return If(e,"POST","/v1/accounts:signUp",jf(e,t))}Kp.TWITTER_SIGN_IN_METHOD="twitter.com",Kp.PROVIDER_ID="twitter.com";class Qp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $f._fromIdTokenResponse(e,n,r),s=Jp(n);return new Qp({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Jp(n);return new Qp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Jp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $p extends ut{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$p.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $p(e,t,n,r)}}function Yp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw $p._fromErrorAndOperation(e,n,t,r);throw n})}async function Xp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await qf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qp._forOperation(e,"link",r)}async function Zp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ln(r.app))return Promise.reject(pf(r));const i="reauthenticate";try{const s=await qf(e,Yp(r,i,t,e),n);gf(s.idToken,r,"internal-error");const a=zf(s.idToken);gf(a,r,"internal-error");const{sub:o}=a;return gf(e.uid===o,r,"user-mismatch"),Qp._forOperation(e,i,s)}catch(zg){throw(null===zg||void 0===zg?void 0:zg.code)==="auth/".concat("user-not-found")&&df(r,"user-mismatch"),zg}}async function em(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ln(e.app))return Promise.reject(pf(e));const r="signIn",i=await Yp(e,r,t),s=await Qp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function tm(e,t){return em(vp(e),t)}function nm(e,t,n){var r;gf((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gf("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gf(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gf(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rm(e){const t=vp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const im="__sak";class sm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class am extends sm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);hp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}am.type="LOCAL";const om=am;class lm extends sm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lm.type="SESSION";const cm=lm;class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new um(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function dm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}um.receivers=[];class hm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=dm("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function fm(){return window}function pm(){return"undefined"!==typeof fm().WorkerGlobalScope&&"function"===typeof fm().importScripts}const mm="firebaseLocalStorageDb",gm="firebaseLocalStorage",ym="fbase_key";class vm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xm(e,t){return e.transaction([gm],t?"readwrite":"readonly").objectStore(gm)}function bm(){const e=indexedDB.open(mm,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(gm,{keyPath:ym})}catch(zg){n(zg)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(gm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(mm);return new vm(e).toPromise()}(),t(await bm()))})})}async function wm(e,t,n){const r=xm(e,!0).put({[ym]:t,value:n});return new vm(r).toPromise()}function km(e,t){const n=xm(e,!0).delete(t);return new vm(n).toPromise()}class Nm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await bm()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(zg){if(t++>3)throw zg;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(pm()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hm(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await wm(e,im,"1"),await km(e,im),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wm(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=xm(e,!1).get(t),r=await new vm(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>km(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=xm(e,!1).getAll();return new vm(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Nm.type="LOCAL";const Em=Nm;kp("rcb"),new kf(3e4,6e4);const _m="recaptcha";async function Sm(e,t,n){var r;const i=await n.verify();try{let s;if(gf("string"===typeof i,e,"argument-error"),gf(n.type===_m,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){gf("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Tf(e,"POST","/v2/accounts/mfaEnrollment:start",jf(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{gf("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;gf(n,e,"missing-multi-factor-info");const a=await function(e,t){return Tf(e,"POST","/v2/accounts/mfaSignIn:start",jf(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Tf(e,"POST","/v1/accounts:sendVerificationCode",jf(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class jm{constructor(e){this.providerId=jm.PROVIDER_ID,this.auth=vp(e)}verifyPhoneNumber(e,t){return Sm(this.auth,e,wt(t))}static credential(e,t){return Fp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jm.credentialFromTaggedObject(t)}static credentialFromError(e){return jm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Fp._fromTokenResponse(n,r):null}}function Tm(e,t){return t?Xf(t):(gf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jm.PROVIDER_ID="phone",jm.PHONE_SIGN_IN_METHOD="phone";class Cm extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Im(e){return em(e.auth,new Cm(e),e.bypassAuthState)}function Am(e){const{auth:t,user:n}=e;return gf(n,t,"internal-error"),Zp(n,new Cm(e),e.bypassAuthState)}async function Pm(e){const{auth:t,user:n}=e;return gf(n,t,"internal-error"),Xp(n,new Cm(e),e.bypassAuthState)}class Dm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(zg){this.reject(zg)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(zg){this.reject(zg)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Im;case"linkViaPopup":case"linkViaRedirect":return Pm;case"reauthViaPopup":case"reauthViaRedirect":return Am;default:df(this.auth,"internal-error")}}resolve(e){vf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rm=new kf(2e3,1e4);class Lm extends Dm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Lm.currentPopupAction&&Lm.currentPopupAction.cancel(),Lm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gf(e,this.auth,"internal-error"),e}async onExecution(){vf(1===this.filter.length,"Popup operations only handle one event");const e=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(hf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hf(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Rm.get())};e()}}Lm.currentPopupAction=null;const Om=new Map;class Mm extends Dm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Om.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vm(t),r=Um(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(zg){e=()=>Promise.reject(zg)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fm(e,t){Om.set(e._key(),t)}function Um(e){return Xf(e._redirectPersistence)}function Vm(e){return tp("pendingRedirect",e.config.apiKey,e.name)}async function zm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ln(e.app))return Promise.reject(pf(e));const r=vp(e),i=Tm(r,t),s=new Mm(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Bm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qm(e))}saveEventToCache(e){this.cachedEventUids.add(qm(e)),this.lastProcessedEventTime=Date.now()}}function qm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Hm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Wm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Km=/^https?/;async function Gm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Tf(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Qm(r))return}catch(n){}df(e,"unauthorized-domain")}function Qm(e){const t=xf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Km.test(n))return!1;if(Wm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jm=new kf(3e4,6e4);function $m(){const e=fm().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ym(e){return new Promise((t,n)=>{var r,i,s;function a(){$m(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$m(),n(hf(e,"network-request-failed"))},timeout:Jm.get()})}if(null===(i=null===(r=fm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=fm().gapi)||void 0===s?void 0:s.load)){const t=kp("iframefcb");return fm()[t]=()=>{gapi.load?a():n(hf(e,"network-request-failed"))},wp("".concat(bp.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Xm=null,e})}let Xm=null;const Zm=new kf(5e3,15e3),eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ng(e){const t=e.config;gf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Fn},i=tg.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(mt(r).slice(1))}async function rg(e){const t=await function(e){return Xm=Xm||Ym(e),Xm}(e),n=fm().gapi;return gf(n,e,"internal-error"),t.open({where:document.body,url:ng(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eg,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=hf(e,"network-request-failed"),s=fm().setTimeout(()=>{r(i)},Zm.get());function a(){fm().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const ig={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(zg){}}}function ag(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ig),{width:r.toString(),height:i.toString(),top:s,left:a}),c=st().toLowerCase();n&&(o=ap(c)?"_blank":n),ip(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return dp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:st())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new sg(null);const d=window.open(t||"",o,u);gf(d,e,"popup-blocked");try{d.focus()}catch(zg){}return new sg(d)}const og="__/auth/handler",lg="emulator/auth/handler",cg=encodeURIComponent("fac");async function ug(e,t,n,r,i,s){gf(e.config.authDomain,e,"auth-domain-config-required"),gf(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Fn,eventId:i};if(t instanceof zp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Bp){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(cg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(og);return Nf(t,lg)}(e),"?").concat(mt(o).slice(1)).concat(c)}const dg="webStorageSupport";const hg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cm,this._completeRedirectFn=zm,this._overrideRedirectResult=Fm}async _openPopup(e,t,n,r){var i;vf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ag(e,await ug(e,t,n,xf(),r),dm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){fm().location.href=e}(await ug(e,t,n,xf(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(vf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await rg(e),n=new Bm(e);return t.register("authEvent",t=>{gf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dg,{type:dg},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[dg];void 0!==i&&t(!!i),df(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fp()||sp()||dp()}};var fg="@firebase/auth",pg="1.7.9";class mg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gg=rt("authIdTokenMaxAge")||300;let yg=null;var vg;bp={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=hf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},vg="Browser",Dn(new kt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;gf(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:vg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pp(vg)},c=new yp(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Dn(new kt("auth-internal",e=>(e=>new mg(e))(vp(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),zn(fg,pg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(vg)),zn(fg,pg,"esm2017");const xg=Un({apiKey:"AIzaSyD_zBATLeIS5pJx_KMlf3mL85qa1NB0PFc",authDomain:"apexsoft-technology.firebaseapp.com",projectId:"apexsoft-technology",storageBucket:"apexsoft-technology.firebasestorage.app",messagingSenderId:"495641986913",appId:"1:495641986913:web:b9379ed4edb877f28de720",measurementId:"G-47BEMST5VW"}),bg=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn();e=wt(e);const t=Rn(e,Sh);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Rn(e,Sh);if(n.isInitialized()){const e=n.getImmediate();if(ft(t,n.getOptions()))return e;throw Ch.create("already-initialized")}const r=n.initialize({options:t})}(e)}(xg),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn();const t=Rn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Rn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ft(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;df(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:hg,persistence:[Em,om,cm]}),r=rt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>gg)return;const r=null===t||void 0===t?void 0:t.token;yg!==r&&(yg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){wt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){wt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=tt("auth");return s&&Sp(n,"http://".concat(s)),n}(xg)),wg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Rn("object"==typeof e?e:Vn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=tt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&_u(r,...e)}return r}(xg);const kg=new class{constructor(){this.collections={CONTACTS:"contacts",JOB_OPENINGS:"jobOpenings",JOB_APPLICATIONS:"jobApplications",INTERNSHIP_PROGRAMS:"internshipPrograms",INTERNSHIP_APPLICATIONS:"internshipApplications",PORTFOLIO_ITEMS:"portfolioItems",BLOG_POSTS:"blogPosts",SERVICES:"services",TESTIMONIALS:"testimonials",TEAM_MEMBERS:"teamMembers",SETTINGS:"settings",APP_DEVELOPMENT_REQUESTS:"appDevelopmentRequests",IOS_DEVELOPMENT_REQUESTS:"iosDevelopmentRequests",WEB_DEVELOPMENT_REQUESTS:"webDevelopmentRequests"}}async create(e,t){try{return{success:!0,id:(await Pd(Cu(wg,e),Oe(Oe({},t),{},{createdAt:Od(),updatedAt:Od()}))).id}}catch(n){return console.error("Error creating document in ".concat(e,":"),n),{success:!1,error:n.message}}}async getAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"createdAt",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";try{let i;try{i=md(Cu(wg,e),xd(t,n))}catch(r){console.warn("OrderBy failed for ".concat(e,", trying without ordering:"),r),i=Cu(wg,e)}const s=await Ad(i),a=[];return s.forEach(e=>{var t,n,r,i;const s=e.data();a.push(Oe(Oe({id:e.id},s),{},{createdAt:(null===(t=s.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(n=s.updatedAt)||void 0===n?void 0:n.toDate())||new Date,submittedAt:(null===(r=s.submittedAt)||void 0===r?void 0:r.toDate())||(null===(i=s.createdAt)||void 0===i?void 0:i.toDate())||new Date}))}),{success:!0,data:a}}catch(i){return console.error("Error fetching documents from ".concat(e,":"),i),{success:!1,error:i.message,data:[]}}}async getById(e,t){try{const a=Iu(wg,e,t),o=await function(e){e=ku(e,ju);const t=ku(e.firestore,Du);return pu(Ru(t),e._key).then(n=>Ld(t,e,n))}(a);if(o.exists()){var n,r,i,s;const e=o.data();return{success:!0,data:Oe(Oe({id:o.id},e),{},{createdAt:(null===(n=e.createdAt)||void 0===n?void 0:n.toDate())||new Date,updatedAt:(null===(r=e.updatedAt)||void 0===r?void 0:r.toDate())||new Date,submittedAt:(null===(i=e.submittedAt)||void 0===i?void 0:i.toDate())||(null===(s=e.createdAt)||void 0===s?void 0:s.toDate())||new Date})}}return{success:!1,error:"Document not found"}}catch(a){return console.error("Error fetching document ".concat(t," from ").concat(e,":"),a),{success:!1,error:a.message}}}async update(e,t,n){try{const r=Iu(wg,e,t);return await function(e,t,n){e=ku(e,ju);const r=ku(e.firestore,Du),i=Gu(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=wt(t))||t instanceof Mu?Xu(i,"updateDoc",e._key,t,n,o):Yu(i,"updateDoc",e._key,t),Rd(r,[s.toMutation(e._key,xa.exists(!0))])}(r,Oe(Oe({},n),{},{updatedAt:Od()})),{success:!0}}catch(r){return console.error("Error updating document ".concat(t," in ").concat(e,":"),r),{success:!1,error:r.message}}}async delete(e,t){try{const r=Iu(wg,e,t);return await(n=r,Rd(ku(n.firestore,Du),[new Pa(n._key,xa.none())])),{success:!0}}catch(r){return console.error("Error deleting document ".concat(t," from ").concat(e,":"),r),{success:!1,error:r.message}}var n}async getWhere(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"createdAt";try{const s=md(Cu(wg,e),function(e,t,n){const r=t,i=dd("where",e);return gd._create(i,r,n)}(t,n,r),xd(i,"desc")),a=await Ad(s),o=[];return a.forEach(e=>{var t,n,r,i;const s=e.data();o.push(Oe(Oe({id:e.id},s),{},{createdAt:(null===(t=s.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(n=s.updatedAt)||void 0===n?void 0:n.toDate())||new Date,submittedAt:(null===(r=s.submittedAt)||void 0===r?void 0:r.toDate())||(null===(i=s.createdAt)||void 0===i?void 0:i.toDate())||new Date}))}),{success:!0,data:o}}catch(s){return console.error("Error querying ".concat(e,":"),s),{success:!1,error:s.message,data:[]}}}onSnapshot(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"createdAt";try{let i;try{i=md(Cu(wg,e),xd(n,"desc"))}catch(r){i=Cu(wg,e)}return Dd(i,e=>{const n=[];e.forEach(e=>{var t,r,i,s;const a=e.data();n.push(Oe(Oe({id:e.id},a),{},{createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=a.updatedAt)||void 0===r?void 0:r.toDate())||new Date,submittedAt:(null===(i=a.submittedAt)||void 0===i?void 0:i.toDate())||(null===(s=a.createdAt)||void 0===s?void 0:s.toDate())||new Date}))}),t({success:!0,data:n})},n=>{console.error("Error in snapshot listener for ".concat(e,":"),n),t({success:!1,error:n.message,data:[]})})}catch(i){return console.error("Error setting up snapshot listener for ".concat(e,":"),i),()=>{}}}onSnapshotJobApplications(e){console.log("Setting up job applications real-time listener...");try{return Dd(Cu(wg,this.collections.JOB_APPLICATIONS),t=>{console.log("Job applications snapshot received, size:",t.size);const n=[];t.forEach(e=>{var t,r,i,s;const a=e.data();console.log("Job application document:",e.id,a),n.push(Oe(Oe({id:e.id},a),{},{createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=a.updatedAt)||void 0===r?void 0:r.toDate())||new Date,submittedAt:(null===(i=a.submittedAt)||void 0===i?void 0:i.toDate())||(null===(s=a.createdAt)||void 0===s?void 0:s.toDate())||new Date}))}),n.sort((e,t)=>t.submittedAt-e.submittedAt),console.log("Processed job applications:",n.length,n),e({success:!0,data:n})},t=>{console.error("Job applications real-time listener error:",t),e({success:!1,error:t.message,data:[]})})}catch(t){return console.error("Error setting up job applications real-time listener:",t),e({success:!1,error:t.message,data:[]}),()=>{}}}async getContacts(){return this.getAll(this.collections.CONTACTS,"submittedAt")}async createContact(e){return this.create(this.collections.CONTACTS,Oe(Oe({},e),{},{submittedAt:Od(),status:"new"}))}async updateContactStatus(e,t){return this.update(this.collections.CONTACTS,e,{status:t})}async getJobOpenings(){return this.getAll(this.collections.JOB_OPENINGS)}async createJobOpening(e){return this.create(this.collections.JOB_OPENINGS,Oe(Oe({},e),{},{status:"active",applicationsCount:0}))}async updateJobOpening(e,t){return this.update(this.collections.JOB_OPENINGS,e,t)}async deleteJobOpening(e){return this.delete(this.collections.JOB_OPENINGS,e)}async getJobApplications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(console.log("getJobApplications called with jobId:",e),e)return this.getWhere(this.collections.JOB_APPLICATIONS,"jobId","==",e);try{const e=Cu(wg,this.collections.JOB_APPLICATIONS);console.log("Fetching from collection:",this.collections.JOB_APPLICATIONS);const t=await Ad(e);console.log("Query snapshot size:",t.size);const n=[];return t.forEach(e=>{var t,r,i,s;const a=e.data();console.log("Document found:",e.id,a),n.push(Oe(Oe({id:e.id},a),{},{createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=a.updatedAt)||void 0===r?void 0:r.toDate())||new Date,submittedAt:(null===(i=a.submittedAt)||void 0===i?void 0:i.toDate())||(null===(s=a.createdAt)||void 0===s?void 0:s.toDate())||new Date}))}),n.sort((e,t)=>t.submittedAt-e.submittedAt),console.log("Returning job applications:",n.length,n),{success:!0,data:n}}catch(t){return console.error("Error fetching job applications:",t),{success:!1,error:t.message,data:[]}}}async createJobApplication(e){return this.create(this.collections.JOB_APPLICATIONS,Oe(Oe({},e),{},{status:"pending"}))}async updateApplicationStatus(e,t){return this.update(this.collections.JOB_APPLICATIONS,e,{status:t})}async getInternshipApplications(){console.log("getInternshipApplications called");try{const e=Cu(wg,this.collections.INTERNSHIP_APPLICATIONS);console.log("Fetching from collection:",this.collections.INTERNSHIP_APPLICATIONS);const t=await Ad(e);console.log("Internship applications query snapshot size:",t.size);const n=[];return t.forEach(e=>{var t,r,i,s;const a=e.data();console.log("Internship application document found:",e.id,a),n.push(Oe(Oe({id:e.id},a),{},{createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=a.updatedAt)||void 0===r?void 0:r.toDate())||new Date,submittedAt:(null===(i=a.submittedAt)||void 0===i?void 0:i.toDate())||(null===(s=a.createdAt)||void 0===s?void 0:s.toDate())||new Date}))}),n.sort((e,t)=>t.submittedAt-e.submittedAt),console.log("Returning internship applications:",n.length,n),{success:!0,data:n}}catch(e){return console.error("Error fetching internship applications:",e),{success:!1,error:e.message,data:[]}}}onSnapshotInternshipApplications(e){console.log("Setting up internship applications real-time listener...");try{return Dd(Cu(wg,this.collections.INTERNSHIP_APPLICATIONS),t=>{console.log("Internship applications snapshot received, size:",t.size);const n=[];t.forEach(e=>{var t,r,i,s;const a=e.data();console.log("Internship application document:",e.id,a),n.push(Oe(Oe({id:e.id},a),{},{createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=a.updatedAt)||void 0===r?void 0:r.toDate())||new Date,submittedAt:(null===(i=a.submittedAt)||void 0===i?void 0:i.toDate())||(null===(s=a.createdAt)||void 0===s?void 0:s.toDate())||new Date}))}),n.sort((e,t)=>t.submittedAt-e.submittedAt),console.log("Processed internship applications:",n.length,n),e({success:!0,data:n})},t=>{console.error("Internship applications real-time listener error:",t),e({success:!1,error:t.message,data:[]})})}catch(t){return console.error("Error setting up internship applications real-time listener:",t),e({success:!1,error:t.message,data:[]}),()=>{}}}async createInternshipApplication(e){return this.create(this.collections.INTERNSHIP_APPLICATIONS,Oe(Oe({},e),{},{status:"pending"}))}async updateInternshipApplicationStatus(e,t){return this.update(this.collections.INTERNSHIP_APPLICATIONS,e,{status:t})}async getAppDevelopmentRequests(){return this.getAll(this.collections.APP_DEVELOPMENT_REQUESTS,"submittedAt")}async createAppDevelopmentRequest(e){return this.create(this.collections.APP_DEVELOPMENT_REQUESTS,Oe(Oe({},e),{},{submittedAt:Od(),status:"new",priority:"medium"}))}async updateAppDevelopmentRequestStatus(e,t){return this.update(this.collections.APP_DEVELOPMENT_REQUESTS,e,{status:t})}async updateAppDevelopmentRequestPriority(e,t){return this.update(this.collections.APP_DEVELOPMENT_REQUESTS,e,{priority:t})}async getIOSDevelopmentRequests(){return this.getAll(this.collections.IOS_DEVELOPMENT_REQUESTS,"submittedAt")}async createIOSDevelopmentRequest(e){return this.create(this.collections.IOS_DEVELOPMENT_REQUESTS,Oe(Oe({},e),{},{submittedAt:Od(),status:"new",priority:"medium"}))}async updateIOSDevelopmentRequestStatus(e,t){return this.update(this.collections.IOS_DEVELOPMENT_REQUESTS,e,{status:t})}async updateIOSDevelopmentRequestPriority(e,t){return this.update(this.collections.IOS_DEVELOPMENT_REQUESTS,e,{priority:t})}async getWebDevelopmentRequests(){return this.getAll(this.collections.WEB_DEVELOPMENT_REQUESTS,"submittedAt")}async createWebDevelopmentRequest(e){return this.create(this.collections.WEB_DEVELOPMENT_REQUESTS,Oe(Oe({},e),{},{submittedAt:Od(),status:"new",priority:"medium"}))}async updateWebDevelopmentRequestStatus(e,t){return this.update(this.collections.WEB_DEVELOPMENT_REQUESTS,e,{status:t})}async updateWebDevelopmentRequestPriority(e,t){return this.update(this.collections.WEB_DEVELOPMENT_REQUESTS,e,{priority:t})}},Ng=kg,Eg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"createdAt";const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),c=(0,i.useCallback)(async()=>{a(!0),l(null);const n=await Ng.getAll(e,t);n.success?r(n.data):(l(n.error),r([])),a(!1)},[e,t]);(0,i.useEffect)(()=>{c()},[c]);return{data:n,loading:s,error:o,refetch:(0,i.useCallback)(()=>{c()},[c])}},_g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"createdAt";const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{a(!0),l(null);const n=Ng.onSnapshot(e,e=>{e.success?(r(e.data),l(null)):(l(e.error),r([])),a(!1)},t);return()=>n()},[e,t]),{data:n,loading:s,error:o}},Sg=e=>{const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(null),a=(0,i.useCallback)(async t=>{n(!0),s(null);const r=await Ng.create(e,t);return r.success||s(r.error),n(!1),r},[e]),o=(0,i.useCallback)(async(t,r)=>{n(!0),s(null);const i=await Ng.update(e,t,r);return i.success||s(i.error),n(!1),i},[e]);return{create:a,update:o,remove:(0,i.useCallback)(async t=>{n(!0),s(null);const r=await Ng.delete(e,t);return r.success||s(r.error),n(!1),r},[e]),loading:t,error:r}},jg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(e&&"function"===typeof e.toDate)return e.toDate().toLocaleDateString(void 0,t);if(e instanceof Date)return e.toLocaleDateString(void 0,t);if(e&&("string"===typeof e||"number"===typeof e)){const n=new Date(e);if(!isNaN(n.getTime()))return n.toLocaleDateString(void 0,t)}return"N/A"}catch(n){return console.error("Error formatting date:",n,"Date value:",e),"Invalid Date"}},Tg=()=>{const{data:e,loading:t,error:n,refetch:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Ng.collections.APP_DEVELOPMENT_REQUESTS,n=_g(t,"submittedAt"),r=Eg(t,"submittedAt");return e?n:r}(!0),{data:s,loading:a,error:o,refetch:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Ng.collections.IOS_DEVELOPMENT_REQUESTS,n=_g(t,"submittedAt"),r=Eg(t,"submittedAt");return e?n:r}(!0),{data:c,loading:u,error:d,refetch:h}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Ng.collections.WEB_DEVELOPMENT_REQUESTS,n=_g(t,"submittedAt"),r=Eg(t,"submittedAt");return e?n:r}(!0),{update:f,remove:p}=Sg(Ng.collections.APP_DEVELOPMENT_REQUESTS),{update:m,remove:g}=Sg(Ng.collections.IOS_DEVELOPMENT_REQUESTS),{update:y,remove:v}=Sg(Ng.collections.WEB_DEVELOPMENT_REQUESTS),[x,b]=(0,i.useState)([]),[w,k]=(0,i.useState)(!1),[N,E]=(0,i.useState)(null),[_,S]=(0,i.useState)("all"),[j,T]=(0,i.useState)("android"),[C,I]=(0,i.useState)({title:"",description:"",image:null,imagePreview:"",frameworks:[],buttonText:"Learn More",buttonAction:""}),[A,P]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=localStorage.getItem("services");e&&b(JSON.parse(e))},[]),(0,i.useEffect)(()=>{localStorage.setItem("services",JSON.stringify(x))},[x]);const D=e=>{const{name:t,value:n}=e.target;I(e=>Oe(Oe({},e),{},{[t]:n}))},R=()=>{A.trim()&&!C.frameworks.includes(A.trim())&&(I(e=>Oe(Oe({},e),{},{frameworks:[...e.frameworks,A.trim()]})),P(""))},L=async e=>{if(window.confirm("Are you sure you want to delete this request?"))try{let t;"android"===j?t=await p(e):"ios"===j?t=await g(e):"web"===j&&(t=await v(e)),t.success?E(null):alert("Error deleting request. Please try again.")}catch(t){console.error("Error deleting request:",t),alert("Error deleting request. Please try again.")}},O=()=>"android"===j?e:"ios"===j?s:"web"===j?c:[],M=()=>"android"===j?t:"ios"===j?a:"web"===j&&u,F=()=>"android"===j?n:"ios"===j?o:"web"===j?d:null,U=()=>"android"===j?r:"ios"===j?l:"web"===j?h:()=>{},V=O().filter(e=>"all"===_||e.status===_),z=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"in-progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"on-hold":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},B=e=>{switch(e){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return(0,Fe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background-light via-primary-50/20 to-background-light dark:from-background-dark dark:via-primary-900/10 dark:to-background-dark",children:(0,Fe.jsxs)("div",{className:"p-6 md:p-8",children:[(0,Fe.jsx)("div",{className:"mb-8 animate-fade-in-down",children:(0,Fe.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 bg-primary-500/20 rounded-full animate-ping"}),(0,Fe.jsx)("div",{className:"relative w-12 h-12 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-white animate-float",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Services Management"}),(0,Fe.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400 text-lg",children:"Add and manage your services from the admin panel"})]})]}),(0,Fe.jsxs)("button",{onClick:()=>k(!0),className:"group px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all duration-300 flex items-center gap-2 shadow-lg shadow-primary-500/25 hover:shadow-xl btn-animated",children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,Fe.jsx)("span",{children:"Add New Service"})]})]})}),(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Service Management"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fe.jsxs)(Ce,{to:"/app-development-requests",className:"flex items-center p-3 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg hover:from-blue-100 hover:to-blue-200 dark:hover:from-blue-800/30 dark:hover:to-blue-700/30 transition-all duration-200 group",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:"App Development Requests"}),(0,Fe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Manage Android app requests"})]})]}),(0,Fe.jsxs)(Ce,{to:"/contact-management",className:"flex items-center p-3 bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg hover:from-green-100 hover:to-green-200 dark:hover:from-green-800/30 dark:hover:to-green-700/30 transition-all duration-200 group",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400",children:"Contact Management"}),(0,Fe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Manage contact inquiries"})]})]}),(0,Fe.jsxs)(Ce,{to:"/job-openings",className:"flex items-center p-3 bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg hover:from-purple-100 hover:to-purple-200 dark:hover:from-purple-800/30 dark:hover:to-purple-700/30 transition-all duration-200 group",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400",children:"Job Management"}),(0,Fe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Manage job openings"})]})]})]})]})}),(0,Fe.jsx)("div",{className:"mb-8",children:(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Fe.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Development Requests"}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage client requests for app and web development"})]}),(0,Fe.jsxs)("button",{onClick:U(),disabled:M(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors flex items-center gap-2",children:[M()?(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})}),(0,Fe.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,Fe.jsx)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[{key:"android",label:"Android Apps",icon:"\ud83d\udcf1",count:e.length},{key:"ios",label:"iOS Apps",icon:"\ud83c\udf4e",count:s.length},{key:"web",label:"Web Projects",icon:"\ud83c\udf10",count:c.length}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>{T(e.key),S("all")},className:"flex-1 px-4 py-2 rounded-md font-medium text-sm transition-colors flex items-center justify-center gap-2 ".concat(j===e.key?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"),children:[(0,Fe.jsx)("span",{children:e.icon}),(0,Fe.jsx)("span",{children:e.label}),(0,Fe.jsx)("span",{className:"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:e.count})]},e.key))})}),(0,Fe.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,Fe.jsx)("div",{className:"flex space-x-4 overflow-x-auto",children:["all","new","in-progress","completed","on-hold","cancelled"].map(e=>(0,Fe.jsxs)("button",{onClick:()=>S(e),className:"px-4 py-2 rounded-lg font-medium text-sm capitalize whitespace-nowrap transition-colors ".concat(_===e?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-700"),children:["all"===e?"All Requests":e.replace("-"," "),(0,Fe.jsx)("span",{className:"ml-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:"all"===e?O().length:O().filter(t=>t.status===e).length})]},e))})}),M()?(0,Fe.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Fe.jsxs)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:["Loading ",j," requests..."]})]}):F()?(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsxs)("h3",{className:"text-sm font-medium text-red-800",children:["Error loading ",j," requests"]}),(0,Fe.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,Fe.jsx)("p",{children:F()})}),(0,Fe.jsx)("div",{className:"mt-4",children:(0,Fe.jsx)("button",{onClick:U(),className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Try again"})})]})]})})}):0===V.length?(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Fe.jsxs)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:["No ",j," requests found"]}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"all"===_?"No ".concat(j," development requests have been submitted yet."):"No ".concat(_.replace("-"," ")," ").concat(j," requests found.")})]}):(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Client Info"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Project Details"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Priority"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Submitted"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:V.map(e=>(0,Fe.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.clientName}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email}),e.phone&&(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.phone})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white max-w-xs truncate",children:e.appName}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:e.appDescription}),e.budget&&(0,Fe.jsxs)("div",{className:"text-sm text-green-600 dark:text-green-400",children:["Budget: ",e.budget]})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{let n;"android"===j?n=await f(e,{status:t}):"ios"===j?n=await m(e,{status:t}):"web"===j&&(n=await y(e,{status:t})),n.success||alert("Error updating status. Please try again.")}catch(n){console.error("Error updating request status:",n),alert("Error updating status. Please try again.")}})(e.id,t.target.value),className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border-0 ".concat(z(e.status)),children:[(0,Fe.jsx)("option",{value:"new",children:"New"}),(0,Fe.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Fe.jsx)("option",{value:"completed",children:"Completed"}),(0,Fe.jsx)("option",{value:"on-hold",children:"On Hold"}),(0,Fe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("select",{value:e.priority,onChange:t=>(async(e,t)=>{try{let n;"android"===j?n=await f(e,{priority:t}):"ios"===j?n=await m(e,{priority:t}):"web"===j&&(n=await y(e,{priority:t})),n.success||alert("Error updating priority. Please try again.")}catch(n){console.error("Error updating request priority:",n),alert("Error updating priority. Please try again.")}})(e.id,t.target.value),className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border-0 ".concat(B(e.priority)),children:[(0,Fe.jsx)("option",{value:"low",children:"Low"}),(0,Fe.jsx)("option",{value:"medium",children:"Medium"}),(0,Fe.jsx)("option",{value:"high",children:"High"})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:jg(e.submittedAt)}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>E(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),(0,Fe.jsx)("button",{onClick:()=>L(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},e.id))})]})})]})}),w&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-scale-in",children:[(0,Fe.jsx)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 rounded-t-2xl",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add New Service"}),(0,Fe.jsx)("button",{onClick:()=>k(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Fe.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),C.title&&C.description){const e={id:Date.now(),title:C.title,description:C.description,image:C.imagePreview,frameworks:C.frameworks,buttonText:C.buttonText,buttonAction:C.buttonAction,createdAt:(new Date).toISOString()};b(t=>[...t,e]),I({title:"",description:"",image:null,imagePreview:"",frameworks:[],buttonText:"Learn More",buttonAction:""}),k(!1)}},className:"space-y-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Title *"}),(0,Fe.jsx)("input",{type:"text",name:"title",value:C.title,onChange:D,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter service title"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),(0,Fe.jsx)("textarea",{name:"description",value:C.description,onChange:D,required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter service description"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Image"}),(0,Fe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{I(n=>Oe(Oe({},n),{},{image:t,imagePreview:e.target.result}))},e.readAsDataURL(t)}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),C.imagePreview&&(0,Fe.jsx)("div",{className:"mt-4",children:(0,Fe.jsx)("img",{src:C.imagePreview,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border"})})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Frameworks/Technologies"}),(0,Fe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Fe.jsx)("input",{type:"text",value:A,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),R()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Add framework (e.g., React, Node.js)"}),(0,Fe.jsx)("button",{type:"button",onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"})]}),(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:C.frameworks.map((e,t)=>(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm dark:bg-blue-900 dark:text-blue-200",children:[e,(0,Fe.jsx)("button",{type:"button",onClick:()=>(e=>{I(t=>Oe(Oe({},t),{},{frameworks:t.frameworks.filter(t=>t!==e)}))})(e),className:"text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",children:"\xd7"})]},t))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Button Text"}),(0,Fe.jsx)("input",{type:"text",name:"buttonText",value:C.buttonText,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter button text"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Button Action (URL or Action)"}),(0,Fe.jsx)("input",{type:"text",name:"buttonAction",value:C.buttonAction,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter URL or action"})]}),(0,Fe.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Fe.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Service"}),(0,Fe.jsx)("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"})]})]})]})}),(0,Fe.jsx)("div",{className:"space-y-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:0===x.length?(0,Fe.jsxs)("div",{className:"text-center py-16",children:[(0,Fe.jsx)("div",{className:"relative inline-block mb-6",children:(0,Fe.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 rounded-2xl flex items-center justify-center animate-float",children:(0,Fe.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No Services Added Yet"}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:'Start building your service catalog by adding your first service using the "Add New Service" button above.'}),(0,Fe.jsxs)("button",{onClick:()=>k(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all duration-300 shadow-lg shadow-primary-500/25",children:[(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Your First Service"]})]}):(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((e,t)=>(0,Fe.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 hover:shadow-xl transition-all duration-300 card-hover animate-fade-in-up",style:{animationDelay:"".concat(.1*t,"s")},children:[e.image&&(0,Fe.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,Fe.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),(0,Fe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Fe.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white group-hover:text-primary transition-colors duration-300",children:e.title}),(0,Fe.jsx)("button",{onClick:()=>{return t=e.id,void b(e=>e.filter(e=>e.id!==t));var t},className:"p-2 rounded-lg text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-300",title:"Delete Service",children:(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:e.description}),e.frameworks.length>0&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Technologies:"}),(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:e.frameworks.map((e,t)=>(0,Fe.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 text-blue-800 dark:text-blue-200 rounded-full text-xs font-medium hover:from-primary-100 hover:to-primary-200 dark:hover:from-primary-900/30 dark:hover:to-primary-800/30 transition-all duration-300",children:e},t))})]}),e.buttonText&&(0,Fe.jsx)("button",{onClick:()=>{e.buttonAction&&(e.buttonAction.startsWith("http")?window.open(e.buttonAction,"_blank"):console.log("Action:",e.buttonAction))},className:"w-full px-4 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all duration-300 shadow-md hover:shadow-lg btn-animated",children:e.buttonText}),(0,Fe.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,Fe.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Added: ",new Date(e.createdAt).toLocaleDateString()]})})]})]},e.id))})}),N&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Fe.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,Fe.jsxs)("div",{className:"mt-3",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"App Development Request Details"}),(0,Fe.jsx)("button",{onClick:()=>E(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Client Information"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Name:"})," ",N.clientName]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",N.email]}),N.phone&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",N.phone]}),N.company&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Company:"})," ",N.company]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Request Details"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Status:"})," ",(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(z(N.status)),children:N.status})]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Priority:"})," ",(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(B(N.priority)),children:N.priority})]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Submitted:"})," ",jg(N.submittedAt)]})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"App Information"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"App Name:"})," ",N.appName]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Description:"})," ",N.appDescription]}),N.features&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Features:"}),(0,Fe.jsx)("ul",{className:"list-disc list-inside ml-4",children:N.features.split("\n").map((e,t)=>(0,Fe.jsx)("li",{children:e},t))})]}),N.budget&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Budget:"})," ",N.budget]}),N.timeline&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Timeline:"})," ",N.timeline]})]}),N.additionalNotes&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Additional Notes"}),(0,Fe.jsx)("p",{className:"whitespace-pre-wrap",children:N.additionalNotes})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Fe.jsx)("button",{onClick:()=>E(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Close"}),(0,Fe.jsx)("button",{onClick:()=>L(N.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete Request"})]})]})})})]})})},Cg=()=>(0,Fe.jsxs)("div",{className:"p-8",children:[(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"About Apexsoft Technology"}),(0,Fe.jsx)("p",{className:"mt-2 text-gray-600",children:"Empowering businesses through innovative technology solutions since 2016"})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[(0,Fe.jsxs)("div",{className:"rounded-xl bg-gradient-to-br from-white to-gray-50 p-6 shadow-lg border border-gray-100",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Our Story"}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-4",children:"Founded in 2016, Apexsoft Technology began as a vision to bridge the gap between innovative technology and practical business solutions. What started as a small team of passionate developers has grown into a comprehensive technology partner for businesses worldwide."}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-4",children:"We specialize in creating custom software solutions, mobile applications, and digital platforms that drive business growth and enhance user experiences. Our commitment to excellence and innovation has earned us the trust of over 500 clients across various industries."}),(0,Fe.jsx)("p",{className:"text-gray-600",children:"Today, we continue to push the boundaries of what's possible, leveraging emerging technologies like AI, blockchain, and cloud computing to deliver solutions that prepare our clients for the future."})]}),(0,Fe.jsxs)("div",{className:"rounded-xl bg-gradient-to-br from-white to-gray-50 p-6 shadow-lg border border-gray-100",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Our Mission"}),(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[(0,Fe.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Vision"}),(0,Fe.jsx)("p",{className:"text-gray-600 text-sm",children:"To be the leading technology partner that transforms businesses through innovative digital solutions and exceptional service delivery."})]}),(0,Fe.jsxs)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[(0,Fe.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Mission"}),(0,Fe.jsx)("p",{className:"text-gray-600 text-sm",children:"We empower businesses to achieve their full potential by providing cutting-edge technology solutions, expert consultation, and unwavering support throughout their digital transformation journey."})]})]})]})]}),(0,Fe.jsxs)("div",{className:"mb-12",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:"Our Values"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Innovation",description:"We constantly explore new technologies and methodologies to deliver cutting-edge solutions.",icon:"\ud83d\udca1"},{title:"Quality",description:"We maintain the highest standards in every project, ensuring excellence in delivery.",icon:"\u2b50"},{title:"Collaboration",description:"We work closely with our clients as partners to achieve shared success.",icon:"\ud83e\udd1d"},{title:"Integrity",description:"We conduct business with honesty, transparency, and ethical practices.",icon:"\ud83d\udee1\ufe0f"}].map((e,t)=>(0,Fe.jsxs)("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"text-4xl mb-4",children:e.icon}),(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:e.title}),(0,Fe.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]}),(0,Fe.jsxs)("div",{className:"mb-12",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:"Meet Our Team"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{name:"John Smith",position:"CEO & Founder",image:"\ud83d\udc68\u200d\ud83d\udcbc",description:"Visionary leader with 15+ years in technology innovation"},{name:"Sarah Johnson",position:"CTO",image:"\ud83d\udc69\u200d\ud83d\udcbb",description:"Technical expert specializing in scalable architecture"},{name:"Mike Chen",position:"Lead Developer",image:"\ud83d\udc68\u200d\ud83d\udcbb",description:"Full-stack developer with expertise in modern frameworks"},{name:"Emily Davis",position:"UI/UX Designer",image:"\ud83d\udc69\u200d\ud83c\udfa8",description:"Creative designer focused on user-centered design"}].map((e,t)=>(0,Fe.jsxs)("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"text-6xl mb-4",children:e.image}),(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,Fe.jsx)("p",{className:"text-blue-600 font-medium mb-2",children:e.position}),(0,Fe.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]}),(0,Fe.jsxs)("div",{className:"mb-12",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:"Our Journey"}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-gradient-to-b from-blue-400 to-indigo-500"}),(0,Fe.jsx)("div",{className:"space-y-8",children:[{year:"2016",title:"Company Founded",description:"Started as a small team with big dreams"},{year:"2018",title:"First Major Client",description:"Secured our first enterprise-level project"},{year:"2020",title:"Team Expansion",description:"Grew to 15+ talented professionals"},{year:"2022",title:"Global Reach",description:"Expanded services to international markets"},{year:"2024",title:"Innovation Hub",description:"Established R&D center for emerging technologies"}].map((e,t)=>(0,Fe.jsxs)("div",{className:"flex items-center ".concat(t%2===0?"flex-row":"flex-row-reverse"),children:[(0,Fe.jsx)("div",{className:"w-1/2 ".concat(t%2===0?"pr-8 text-right":"pl-8"),children:(0,Fe.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 p-4 rounded-xl shadow-lg border border-gray-100",children:[(0,Fe.jsx)("div",{className:"text-blue-600 font-bold text-lg",children:e.year}),(0,Fe.jsx)("h3",{className:"font-semibold text-gray-800",children:e.title}),(0,Fe.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]})}),(0,Fe.jsx)("div",{className:"w-4 h-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full border-4 border-white relative z-10 shadow-lg"}),(0,Fe.jsx)("div",{className:"w-1/2"})]},t))})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[(0,Fe.jsxs)("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"500+"}),(0,Fe.jsx)("div",{className:"text-gray-600",children:"Happy Clients"})]}),(0,Fe.jsxs)("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"150+"}),(0,Fe.jsx)("div",{className:"text-gray-600",children:"Projects Completed"})]}),(0,Fe.jsxs)("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"25"}),(0,Fe.jsx)("div",{className:"text-gray-600",children:"Team Members"})]}),(0,Fe.jsxs)("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"8+"}),(0,Fe.jsx)("div",{className:"text-gray-600",children:"Years Experience"})]})]}),(0,Fe.jsxs)("div",{className:"rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 p-8 text-center border border-blue-200",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Ready to Work With Us?"}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-6",children:"Join hundreds of satisfied clients who have transformed their businesses with our solutions."}),(0,Fe.jsx)("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Get In Touch"})]})]}),Ig=()=>{const{data:e,loading:t,error:n,refetch:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),c=(0,i.useCallback)(async()=>{a(!0),l(null);const t=await Ng.getJobApplications(e);t.success?r(t.data):(l(t.error),r([])),a(!1)},[e]);return(0,i.useEffect)(()=>{t||c()},[c,t]),(0,i.useEffect)(()=>{if(t){a(!0);const t=Ng.onSnapshotJobApplications(t=>{if(t.success){let n=t.data;e&&(n=t.data.filter(t=>t.jobId===e)),r(n),l(null)}else l(t.error),r([]);a(!1)});return()=>t()}},[e,t]),{data:n,loading:s,error:o,refetch:(0,i.useCallback)(()=>{t||c()},[c,t])}}(null,!0),{update:s,remove:a}=Sg(Ng.collections.JOB_APPLICATIONS);console.log("JobOpenings Debug:",{applications:e,applicationsLoading:t,applicationsError:n,applicationsLength:(null===e||void 0===e?void 0:e.length)||0});const[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)("all"),[m,g]=(0,i.useState)("applications"),[y,v]=(0,i.useState)(null),[x,b]=(0,i.useState)({title:"",department:"",location:"",type:"Full-time",experience:"",description:"",requirements:[],responsibilities:[],skills:[]}),[w,k]=(0,i.useState)(""),[N,E]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),j=async(e,t)=>{try{(await s(e,{status:t})).success||alert("Error updating application status. Please try again.")}catch(n){console.error("Error updating application status:",n),alert("Error updating application status. Please try again.")}},T=async e=>{if(window.confirm("Are you sure you want to delete this application?"))try{(await a(e)).success?h(null):alert("Error deleting application. Please try again.")}catch(t){console.error("Error deleting application:",t),alert("Error deleting application. Please try again.")}},C=e.filter(e=>"all"===f||e.status===f),I=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"reviewing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"interviewed":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"hired":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},A=e=>{const{name:t,value:n}=e.target;b(e=>Oe(Oe({},e),{},{[t]:n}))},P=()=>{w.trim()&&!x.requirements.includes(w.trim())&&(b(e=>Oe(Oe({},e),{},{requirements:[...e.requirements,w.trim()]})),k(""))},D=()=>{N.trim()&&!x.responsibilities.includes(N.trim())&&(b(e=>Oe(Oe({},e),{},{responsibilities:[...e.responsibilities,N.trim()]})),E(""))},R=()=>{_.trim()&&!x.skills.includes(_.trim())&&(b(e=>Oe(Oe({},e),{},{skills:[...e.skills,_.trim()]})),S(""))},L=t=>e.filter(e=>e.jobId===t),O=()=>{const t={total:e.length,pending:0,reviewing:0,interviewed:0,hired:0,rejected:0};return e.forEach(e=>{const n=e.status||"pending";t.hasOwnProperty(n)&&t[n]++}),t},[M,F]=(0,i.useState)("all");return(0,Fe.jsxs)("div",{className:"p-8",children:[(0,Fe.jsx)("div",{className:"mb-8",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Job Openings Management"}),(0,Fe.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Create and manage job postings and track applications"})]}),(0,Fe.jsxs)("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Job"]})]})}),(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Fe.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Fe.jsxs)("button",{onClick:()=>g("applications"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("applications"===m?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:["Job Applications",(0,Fe.jsx)("span",{className:"ml-2 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),(0,Fe.jsxs)("button",{onClick:()=>g("openings"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("openings"===m?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:["Job Openings",(0,Fe.jsx)("span",{className:"ml-2 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:o.length})]})]})})}),"applications"===m?(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Fe.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Job Applications"}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and review job applications from candidates"})]}),(0,Fe.jsxs)("div",{className:"flex gap-2",children:[(0,Fe.jsxs)("button",{onClick:r,disabled:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors flex items-center gap-2",children:[t?(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),(0,Fe.jsx)("button",{onClick:async()=>{console.log("Manual test: Fetching job applications...");const e=await Ng.getJobApplications();console.log("Manual test result:",e)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Test Fetch"})]})]})}),(0,Fe.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,Fe.jsx)("div",{className:"flex space-x-4 overflow-x-auto",children:["all","pending","reviewing","interviewed","hired","rejected"].map(t=>(0,Fe.jsxs)("button",{onClick:()=>p(t),className:"px-4 py-2 rounded-lg font-medium text-sm capitalize whitespace-nowrap transition-colors ".concat(f===t?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-700"),children:["all"===t?"All Applications":t,(0,Fe.jsx)("span",{className:"ml-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:"all"===t?e.length:e.filter(e=>e.status===t).length})]},t))})}),t?(0,Fe.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Fe.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading applications..."})]}):n?(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading applications"}),(0,Fe.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,Fe.jsx)("p",{children:n})}),(0,Fe.jsx)("div",{className:"mt-4",children:(0,Fe.jsx)("button",{onClick:r,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Try again"})})]})]})})}):0===C.length?(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Fe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications found"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"all"===f?"No job applications have been submitted yet.":"No ".concat(f," applications found.")})]}):(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Applicant"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Position Applied"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Applied Date"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.map(e=>(0,Fe.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.applicantName}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email}),e.phone&&(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.phone})]})}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Fe.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:e.domain}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"job"===e.applicationType?"Job Application":"Internship Application"})]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("select",{value:e.status,onChange:t=>j(e.id,t.target.value),className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border-0 ".concat(I(e.status)),children:[(0,Fe.jsx)("option",{value:"pending",children:"Pending"}),(0,Fe.jsx)("option",{value:"reviewing",children:"Reviewing"}),(0,Fe.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,Fe.jsx)("option",{value:"hired",children:"Hired"}),(0,Fe.jsx)("option",{value:"rejected",children:"Rejected"})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:jg(e.submittedAt)}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>h(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),(0,Fe.jsx)("button",{onClick:()=>T(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},e.id))})]})})]})}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:(()=>{const e=O();return[{title:"Total Applications",count:e.total,color:"blue",icon:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Pending",count:e.pending,color:"yellow",icon:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})},{title:"Reviewing",count:e.reviewing,color:"blue",icon:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},{title:"Interviewed",count:e.interviewed,color:"purple",icon:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})})},{title:"Rejected",count:e.rejected,color:"red",icon:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})},{title:"Hired",count:e.hired,color:"green",icon:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}].map((e,t)=>(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,Fe.jsx)("p",{className:"text-2xl font-bold ".concat("blue"===e.color?"text-blue-600":"yellow"===e.color?"text-yellow-600":"red"===e.color?"text-red-600":"green"===e.color?"text-green-600":"purple"===e.color?"text-purple-600":"text-gray-900 dark:text-white"),children:e.count})]}),(0,Fe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("blue"===e.color?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"yellow"===e.color?"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-600 dark:text-yellow-400":"red"===e.color?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400":"green"===e.color?"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400":"purple"===e.color?"bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700"),children:e.icon})]})},t))})()}),(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:(()=>{const e=O();return[{key:"all",label:"All Applications",count:e.total},{key:"pending",label:"Pending",count:e.pending},{key:"reviewing",label:"Reviewing",count:e.reviewing},{key:"interviewed",label:"Interviewed",count:e.interviewed},{key:"rejected",label:"Rejected",count:e.rejected},{key:"hired",label:"Hired",count:e.hired}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>F(e.key),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(M===e.key?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"),children:[e.label," (",e.count,")"]},e.key))})()})}),c&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add New Job Opening"}),(0,Fe.jsx)("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),x.title&&x.description){const e=Oe(Oe({id:Date.now()},x),{},{createdAt:(new Date).toISOString(),isActive:!0});l(t=>[...t,e]),b({title:"",department:"",location:"",type:"Full-time",experience:"",description:"",requirements:[],responsibilities:[],skills:[]}),u(!1)}},className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Job Title *"}),(0,Fe.jsx)("input",{type:"text",name:"title",value:x.title,onChange:A,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g., Software Engineer"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department *"}),(0,Fe.jsx)("input",{type:"text",name:"department",value:x.department,onChange:A,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g., Engineering"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location *"}),(0,Fe.jsx)("input",{type:"text",name:"location",value:x.location,onChange:A,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g., Mumbai, India"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Job Type *"}),(0,Fe.jsxs)("select",{name:"type",value:x.type,onChange:A,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[(0,Fe.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,Fe.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,Fe.jsx)("option",{value:"Contract",children:"Contract"}),(0,Fe.jsx)("option",{value:"Internship",children:"Internship"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Experience Required *"}),(0,Fe.jsx)("input",{type:"text",name:"experience",value:x.experience,onChange:A,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g., 2-5 years"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Job Description *"}),(0,Fe.jsx)("textarea",{name:"description",value:x.description,onChange:A,required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Describe the job role and responsibilities..."})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Required Skills"}),(0,Fe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Fe.jsx)("input",{type:"text",value:_,onChange:e=>S(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),R()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Add required skill (e.g., React, Node.js)"}),(0,Fe.jsx)("button",{type:"button",onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"})]}),(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:x.skills.map((e,t)=>(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm dark:bg-blue-900 dark:text-blue-200",children:[e,(0,Fe.jsx)("button",{type:"button",onClick:()=>(e=>{b(t=>Oe(Oe({},t),{},{skills:t.skills.filter(t=>t!==e)}))})(e),className:"text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",children:"\xd7"})]},t))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Requirements"}),(0,Fe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Fe.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),P()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Add job requirement"}),(0,Fe.jsx)("button",{type:"button",onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"})]}),(0,Fe.jsx)("ul",{className:"space-y-1",children:x.requirements.map((e,t)=>(0,Fe.jsxs)("li",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 px-3 py-2 rounded",children:[(0,Fe.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e}),(0,Fe.jsx)("button",{type:"button",onClick:()=>{return t=e,void b(e=>Oe(Oe({},e),{},{requirements:e.requirements.filter(e=>e!==t)}));var t},className:"text-red-500 hover:text-red-700",children:"\xd7"})]},t))})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Responsibilities"}),(0,Fe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Fe.jsx)("input",{type:"text",value:N,onChange:e=>E(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),D()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Add job responsibility"}),(0,Fe.jsx)("button",{type:"button",onClick:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"})]}),(0,Fe.jsx)("ul",{className:"space-y-1",children:x.responsibilities.map((e,t)=>(0,Fe.jsxs)("li",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 px-3 py-2 rounded",children:[(0,Fe.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e}),(0,Fe.jsx)("button",{type:"button",onClick:()=>{return t=e,void b(e=>Oe(Oe({},e),{},{responsibilities:e.responsibilities.filter(e=>e!==t)}));var t},className:"text-red-500 hover:text-red-700",children:"\xd7"})]},t))})]}),(0,Fe.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Fe.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Job Opening"}),(0,Fe.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"})]})]})]})}),(0,Fe.jsx)("div",{className:"space-y-6",children:0===o.length?(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})}),(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Job Openings"}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:'Start by creating your first job opening using the "Add New Job" button above.'})]}):o.map(e=>(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Fe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.title}),(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-200"),children:e.isActive?"Active":"Inactive"})]}),(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[(0,Fe.jsx)("span",{children:e.department}),(0,Fe.jsx)("span",{children:"\u2022"}),(0,Fe.jsx)("span",{children:e.location}),(0,Fe.jsx)("span",{children:"\u2022"}),(0,Fe.jsx)("span",{children:e.experience}),(0,Fe.jsx)("span",{children:"\u2022"}),(0,Fe.jsx)("span",{children:e.type})]}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.description}),e.skills.length>0&&(0,Fe.jsx)("div",{className:"mt-3",children:(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:e.skills.map((e,t)=>(0,Fe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs dark:bg-blue-900 dark:text-blue-200",children:e},t))})})]}),(0,Fe.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,Fe.jsx)("button",{onClick:()=>{return t=e.id,void l(e=>e.map(e=>e.id===t?Oe(Oe({},e),{},{isActive:!e.isActive}):e));var t},className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat(e.isActive?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-200"),children:e.isActive?"Deactivate":"Activate"}),(0,Fe.jsxs)("button",{onClick:()=>v(y===e.id?null:e.id),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-sm font-medium hover:bg-blue-200 transition-colors dark:bg-blue-900/50 dark:text-blue-200",children:["Applications (",L(e.id).length,")"]}),(0,Fe.jsx)("button",{onClick:()=>{return t=e.id,void l(e=>e.filter(e=>e.id!==t));var t},className:"px-3 py-1 bg-red-100 text-red-800 rounded text-sm font-medium hover:bg-red-200 transition-colors dark:bg-red-900/50 dark:text-red-200",children:"Delete"})]})]}),y===e.id&&(0,Fe.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Fe.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Applications"}),0===L(e.id).filter(e=>"all"===M||(e.status||"pending")===M).length?(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===M?"No applications received yet.":"No ".concat(M," applications found.")}):(0,Fe.jsx)("div",{className:"space-y-3",children:L(e.id).filter(e=>"all"===M||(e.status||"pending")===M).map(e=>(0,Fe.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.phone}),e.experience&&(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Experience: ",e.experience]})]}),(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(I(e.status)),children:e.status||"pending"}),(0,Fe.jsxs)("select",{value:e.status||"pending",onChange:t=>j(e.id,t.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 dark:bg-gray-600 dark:border-gray-500 dark:text-white",children:[(0,Fe.jsx)("option",{value:"pending",children:"Pending"}),(0,Fe.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,Fe.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Fe.jsx)("option",{value:"hired",children:"Hired"})]})]})]}),e.coverLetter&&(0,Fe.jsx)("div",{className:"mt-2",children:(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Cover Letter:"})," ",e.coverLetter]})}),(0,Fe.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Applied: ",new Date(e.appliedAt).toLocaleDateString()]})]},e.id))})]})]})},e.id))})]}),d&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Fe.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,Fe.jsxs)("div",{className:"mt-3",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Application Details"}),(0,Fe.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Applicant Information"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Name:"})," ",d.applicantName]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",d.email]}),d.phone&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",d.phone]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Application Details"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Position:"})," ",d.domain]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Type:"})," ","job"===d.applicationType?"Job Application":"Internship Application"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Status:"})," ",(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(I(d.status)),children:d.status})]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Applied:"})," ",jg(d.submittedAt)]})]})]}),d.duration&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Duration"}),(0,Fe.jsx)("p",{children:d.duration})]}),d.resumeFileName&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Resume"}),(0,Fe.jsx)("p",{children:d.resumeFileName})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Fe.jsx)("button",{onClick:()=>h(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Close"}),(0,Fe.jsx)("button",{onClick:()=>T(d.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete Application"})]})]})})})]})},Ag=()=>{const{data:e,loading:t,error:n,refetch:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null),l=(0,i.useCallback)(async()=>{s(!0),o(null);const e=await Ng.getInternshipApplications();e.success?n(e.data):(o(e.error),n([])),s(!1)},[]);return(0,i.useEffect)(()=>{e||l()},[l,e]),(0,i.useEffect)(()=>{if(e){s(!0);const e=Ng.onSnapshotInternshipApplications(e=>{e.success?(n(e.data),o(null)):(o(e.error),n([])),s(!1)});return()=>{e&&e()}}},[e]),{data:t,loading:r,error:a,refetch:l}}(!0),{update:s,remove:a}=Sg(Ng.collections.INTERNSHIP_APPLICATIONS),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)("all");console.log("InternshipPrograms Debug:",{internshipApplications:e,applicationsLoading:t,applicationsError:n,applicationsLength:(null===e||void 0===e?void 0:e.length)||0});const d=async e=>{if(window.confirm("Are you sure you want to delete this application?"))try{(await a(e)).success?l(null):alert("Error deleting application. Please try again.")}catch(t){console.error("Error deleting application:",t),alert("Error deleting application. Please try again.")}},h=e=>{switch(e){case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300";case"reviewing":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border-blue-300";case"interviewed":return"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border-purple-300";case"accepted":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border-green-300";case"rejected":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border-red-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300"}},f=(()=>{const t={all:e.length,pending:0,reviewing:0,interviewed:0,accepted:0,rejected:0};return e.forEach(e=>{const n=e.status||"pending";t.hasOwnProperty(n)&&t[n]++}),t})(),p="all"===c?e:e.filter(e=>(e.status||"pending")===c);return(0,Fe.jsxs)("div",{className:"p-8 bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen",children:[(0,Fe.jsx)("div",{className:"mb-8",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsxs)("div",{className:"animate-fade-in-left",children:[(0,Fe.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Internship Programs"}),(0,Fe.jsx)("p",{className:"mt-2 text-gray-600 text-lg",children:"Manage internship applications from client website"})]}),(0,Fe.jsxs)("div",{className:"flex gap-3 animate-fade-in-right",children:[(0,Fe.jsxs)("button",{onClick:r,disabled:t,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[t?(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),(0,Fe.jsx)("button",{onClick:async()=>{console.log("Manual test: Fetching internship applications...");const e=await Ng.getInternshipApplications();console.log("Manual test result:",e)},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Test Fetch"})]})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8 animate-fade-in-up",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl border border-gray-100 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Total Applications"}),(0,Fe.jsx)("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:f.all})]}),(0,Fe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl border border-gray-100 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Pending"}),(0,Fe.jsx)("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:f.pending})]}),(0,Fe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-100 to-yellow-200 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl border border-gray-100 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Reviewing"}),(0,Fe.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:f.reviewing})]}),(0,Fe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-100 to-indigo-200 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl border border-gray-100 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Accepted"}),(0,Fe.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:f.accepted})]}),(0,Fe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-100 to-emerald-200 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl border border-gray-100 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Rejected"}),(0,Fe.jsx)("p",{className:"text-3xl font-bold text-red-600 mt-2",children:f.rejected})]}),(0,Fe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-red-100 to-red-200 rounded-xl flex items-center justify-center",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})]}),(0,Fe.jsx)("div",{className:"mb-8",children:(0,Fe.jsx)("div",{className:"flex flex-wrap gap-3 animate-fade-in-up",children:[{key:"all",label:"All Applications",count:f.all},{key:"pending",label:"Pending",count:f.pending},{key:"reviewing",label:"Reviewing",count:f.reviewing},{key:"interviewed",label:"Interviewed",count:f.interviewed},{key:"accepted",label:"Accepted",count:f.accepted},{key:"rejected",label:"Rejected",count:f.rejected}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>u(e.key),className:"px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 transform hover:scale-105 ".concat(c===e.key?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-700 shadow-md hover:shadow-lg border border-gray-200"),children:[e.label," (",e.count,")"]},e.key))})}),(0,Fe.jsx)("div",{className:"space-y-4",children:t?(0,Fe.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,Fe.jsx)("span",{className:"text-lg font-medium text-gray-600",children:"Loading applications..."})]})}):n?(0,Fe.jsx)("div",{className:"text-center py-16",children:(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-xl p-8 max-w-md mx-auto shadow-lg",children:[(0,Fe.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Fe.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error loading applications"}),(0,Fe.jsx)("p",{className:"text-red-700",children:n})]})}):0===p.length?(0,Fe.jsx)("div",{className:"text-center py-20",children:(0,Fe.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Fe.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Fe.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Fe.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"all"===c?"No Internship Applications":"No ".concat(c," Applications")}),(0,Fe.jsx)("p",{className:"text-gray-600 text-lg",children:"all"===c?"Internship applications from your client website will appear here.":"No applications with ".concat(c," status found.")})]})}):p.map((e,t)=>(0,Fe.jsx)("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl border border-gray-100 overflow-hidden transition-all duration-300 transform hover:scale-[1.02] hover:-translate-y-1 animate-fade-in-up",style:{animationDelay:"".concat(.1*t,"s")},children:(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsx)("div",{className:"flex justify-between items-start",children:(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:e.applicantName}),(0,Fe.jsxs)("p",{className:"text-sm text-gray-500 font-medium",children:["Applied ",jg(e.submittedAt)]})]}),(0,Fe.jsx)("div",{className:"flex items-center gap-2",children:(0,Fe.jsxs)("select",{value:e.status||"pending",onChange:t=>(async(e,t)=>{try{(await s(e,{status:t})).success||alert("Error updating application status. Please try again.")}catch(n){console.error("Error updating application status:",n),alert("Error updating application status. Please try again.")}})(e.id,t.target.value),className:"px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all duration-300 hover:scale-105 ".concat(h(e.status||"pending")),children:[(0,Fe.jsx)("option",{value:"pending",children:"Pending"}),(0,Fe.jsx)("option",{value:"reviewing",children:"Reviewing"}),(0,Fe.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,Fe.jsx)("option",{value:"accepted",children:"Accepted"}),(0,Fe.jsx)("option",{value:"rejected",children:"Rejected"})]})})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide",children:"Contact Information"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.email]})}),e.phone&&(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.phone]})})]}),(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide",children:"Internship Details"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0H8m8 0v2a2 2 0 01-2 2H10a2 2 0 01-2-2V6m8 0h-2"})}),e.domain]})}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.duration]})}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"internship"===e.applicationType?"Internship Application":"Application"]})})]}),(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide",children:"Documents"}),e.resumeFileName&&(0,Fe.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fe.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.resumeFileName]})})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-100",children:[(0,Fe.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["ID: ",e.id.substring(0,8),"..."]}),(0,Fe.jsxs)("div",{className:"flex gap-3",children:[(0,Fe.jsx)("button",{onClick:()=>l(e),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"View Details"}),(0,Fe.jsx)("button",{onClick:()=>d(e.id),className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"Delete"})]})]})]})})})},e.id))}),o&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm overflow-y-auto h-full w-full z-50 animate-fade-in",children:(0,Fe.jsx)("div",{className:"relative top-10 mx-auto p-8 w-11/12 md:w-3/4 lg:w-1/2 max-w-4xl shadow-2xl rounded-2xl bg-white animate-fade-in-up",children:(0,Fe.jsxs)("div",{className:"",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fe.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Application Details"}),(0,Fe.jsx)("button",{onClick:()=>l(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300 transform hover:scale-110",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide mb-4",children:"Applicant Information"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Name:"})," ",o.applicantName]}),(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Email:"})," ",o.email]}),o.phone&&(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",o.phone]})]})]}),(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide mb-4",children:"Internship Details"}),(0,Fe.jsxs)("div",{className:"space-y-3",children:[(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Domain:"})," ",o.domain]}),(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Type:"})," ","internship"===o.applicationType?"Internship Application":"Application"]}),(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Status:"})," ",(0,Fe.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-bold ".concat(h(o.status)),children:o.status})]}),(0,Fe.jsxs)("p",{className:"text-gray-700",children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Applied:"})," ",jg(o.submittedAt)]})]})]})]}),o.duration&&(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide mb-3",children:"Duration"}),(0,Fe.jsx)("p",{className:"text-gray-700 font-medium",children:o.duration})]}),o.resumeFileName&&(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl",children:[(0,Fe.jsx)("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide mb-3",children:"Resume"}),(0,Fe.jsx)("p",{className:"text-gray-700 font-medium",children:o.resumeFileName})]})]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-100",children:[(0,Fe.jsx)("button",{onClick:()=>l(null),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-300 transform hover:scale-105",children:"Close"}),(0,Fe.jsx)("button",{onClick:()=>d(o.id),className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Delete Application"})]})]})})})]})},Pg=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)("all");(0,i.useEffect)(()=>{const e=localStorage.getItem("contactSubmissions");e&&t(JSON.parse(e))},[]),(0,i.useEffect)(()=>{localStorage.setItem("contactSubmissions",JSON.stringify(e))},[e]);const o=e=>{switch(e){case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200";case"in-progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-200";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-200"}},l=(()=>{const t={all:e.length,pending:0,"in-progress":0,resolved:0,closed:0};return e.forEach(e=>{const n=e.status||"pending";t[n]++}),t})(),c="all"===s?e:e.filter(e=>(e.status||"pending")===s),u=e=>{switch(e){case"high":return"text-red-600 bg-red-100 dark:bg-red-900/50 dark:text-red-200";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/50 dark:text-yellow-200";case"low":return"text-green-600 bg-green-100 dark:bg-green-900/50 dark:text-green-200";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/50 dark:text-gray-200"}};return(0,Fe.jsxs)("div",{className:"p-8",children:[(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Contact Submissions"}),(0,Fe.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage contact form submissions from your website"})]}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{title:"Total Submissions",count:l.all,color:"blue",icon:"\ud83d\udce7"},{title:"Pending",count:l.pending,color:"yellow",icon:"\u23f3"},{title:"In Progress",count:l["in-progress"],color:"blue",icon:"\ud83d\udd04"},{title:"Resolved",count:l.resolved,color:"green",icon:"\u2705"}].map((e,t)=>(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,Fe.jsx)("p",{className:"text-2xl font-bold ".concat("blue"===e.color?"text-blue-600":"yellow"===e.color?"text-yellow-600":"green"===e.color?"text-green-600":"text-gray-900 dark:text-white"),children:e.count})]}),(0,Fe.jsx)("div",{className:"text-2xl",children:e.icon})]})},t))}),(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsx)("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Submissions",count:l.all},{key:"pending",label:"Pending",count:l.pending},{key:"in-progress",label:"In Progress",count:l["in-progress"]},{key:"resolved",label:"Resolved",count:l.resolved},{key:"closed",label:"Closed",count:l.closed}].map(e=>(0,Fe.jsxs)("button",{onClick:()=>a(e.key),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(s===e.key?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"),children:[e.label," (",e.count,")"]},e.key))})}),(0,Fe.jsx)("div",{className:"space-y-4",children:0===c.length?(0,Fe.jsxs)("div",{className:"text-center py-12",children:[(0,Fe.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Fe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"all"===s?"No Contact Submissions":"No ".concat(s," Submissions")}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===s?"Contact form submissions from your website will appear here.":"No submissions with ".concat(s," status found.")})]}):c.map(e=>(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("div",{className:"flex justify-between items-start",children:(0,Fe.jsxs)("div",{className:"flex-1",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Fe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(o(e.status||"pending")),children:e.status||"pending"}),e.priority&&(0,Fe.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(u(e.priority)),children:[e.priority," priority"]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",e.email]}),e.phone&&(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",e.phone]}),e.company&&(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Company:"})," ",e.company]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Subject:"})," ",e.subject]}),e.service&&(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Service:"})," ",e.service]}),(0,Fe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(0,Fe.jsx)("strong",{children:"Submitted:"})," ",new Date(e.submittedAt).toLocaleDateString()," at ",new Date(e.submittedAt).toLocaleTimeString()]})]})]}),e.message&&(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message:"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-3 rounded",children:e.message})]}),(0,Fe.jsx)("div",{className:"flex items-center justify-between",children:(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsxs)("select",{value:e.status||"pending",onChange:n=>{return r=e.id,i=n.target.value,void t(e=>e.map(e=>e.id===r?Oe(Oe({},e),{},{status:i}):e));var r,i},className:"text-sm border border-gray-300 rounded px-3 py-1 dark:bg-gray-600 dark:border-gray-500 dark:text-white",children:[(0,Fe.jsx)("option",{value:"pending",children:"Pending"}),(0,Fe.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Fe.jsx)("option",{value:"resolved",children:"Resolved"}),(0,Fe.jsx)("option",{value:"closed",children:"Closed"})]}),(0,Fe.jsx)("button",{onClick:()=>r(n===e.id?null:e.id),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-sm font-medium hover:bg-blue-200 transition-colors dark:bg-blue-900/50 dark:text-blue-200",children:n===e.id?"Hide Details":"View Details"}),(0,Fe.jsx)("button",{onClick:()=>{return n=e.id,void t(e=>e.filter(e=>e.id!==n));var n},className:"px-3 py-1 bg-red-100 text-red-800 rounded text-sm font-medium hover:bg-red-200 transition-colors dark:bg-red-900/50 dark:text-red-200",children:"Delete"})]})})]})}),n===e.id&&(0,Fe.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Fe.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Full Submission Details"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Contact Information"}),(0,Fe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Full Name:"})," ",e.name]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",e.email]}),e.phone&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",e.phone]}),e.company&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Company:"})," ",e.company]}),e.website&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Website:"})," ",e.website]})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Submission Details"}),(0,Fe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Subject:"})," ",e.subject]}),e.service&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Service Interest:"})," ",e.service]}),e.budget&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Budget:"})," ",e.budget]}),e.timeline&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Timeline:"})," ",e.timeline]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Submitted:"})," ",new Date(e.submittedAt).toLocaleString()]})]})]})]}),e.attachments&&e.attachments.length>0&&(0,Fe.jsxs)("div",{className:"mt-4",children:[(0,Fe.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Attachments"}),(0,Fe.jsx)("div",{className:"space-y-2",children:e.attachments.map((e,t)=>(0,Fe.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors dark:bg-blue-900/50 dark:text-blue-200",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.name]},t))})]})]})]})},e.id))})]})},Dg=()=>{const[e,t]=(0,i.useState)({appName:"Apexsoft Technology",defaultLang:"English (US)",timezone:"(UTC-08:00) Pacific Time",twoFactorAuth:!1,passwordExpiration:!0,sessionTimeout:30,emailNotifications:!0,inAppNotifications:!0,slackApi:"",githubApi:""}),[n,r]=(0,i.useState)(!1),s=(e,n)=>{t(t=>Oe(Oe({},t),{},{[e]:n}))},a=e=>{t(t=>Oe(Oe({},t),{},{[e]:!t[e]}))},o=e=>{let{enabled:t,onToggle:n,label:r,description:i}=e;return(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i})]}),(0,Fe.jsx)("button",{onClick:n,className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ".concat(t?"bg-primary":"bg-gray-200 dark:bg-gray-700"),role:"switch","aria-checked":t,children:(0,Fe.jsx)("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(t?"translate-x-5":"translate-x-0")})})]})};return(0,Fe.jsxs)("div",{className:"p-8",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Settings"}),(0,Fe.jsx)("div",{className:"flex items-center space-x-4",children:(0,Fe.jsxs)("button",{onClick:async()=>{r(!0),setTimeout(()=>{r(!1),alert("Settings saved successfully!")},1e3)},disabled:n,className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/80 disabled:opacity-50 disabled:cursor-not-allowed",children:[n?(0,Fe.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,(0,Fe.jsx)("span",{children:n?"Saving...":"Save Changes"})]})})]}),(0,Fe.jsxs)("div",{className:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,Fe.jsx)("div",{className:"lg:col-span-2",children:(0,Fe.jsxs)("div",{className:"space-y-8",children:[(0,Fe.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-sm dark:bg-gray-800",children:[(0,Fe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"General Preferences"}),(0,Fe.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"appName",children:"Application Name"}),(0,Fe.jsx)("input",{className:"mt-1 block w-full rounded-lg border-gray-300 bg-background-light text-sm focus:border-primary focus:ring-primary dark:border-gray-600 dark:bg-background-dark dark:text-white",id:"appName",type:"text",value:e.appName,onChange:e=>s("appName",e.target.value)})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"defaultLang",children:"Default Language"}),(0,Fe.jsxs)("select",{className:"mt-1 block w-full rounded-lg border-gray-300 bg-background-light text-sm focus:border-primary focus:ring-primary dark:border-gray-600 dark:bg-background-dark dark:text-white",id:"defaultLang",value:e.defaultLang,onChange:e=>s("defaultLang",e.target.value),children:[(0,Fe.jsx)("option",{children:"English (US)"}),(0,Fe.jsx)("option",{children:"Spanish"}),(0,Fe.jsx)("option",{children:"French"}),(0,Fe.jsx)("option",{children:"German"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"timezone",children:"Timezone"}),(0,Fe.jsxs)("select",{className:"mt-1 block w-full rounded-lg border-gray-300 bg-background-light text-sm focus:border-primary focus:ring-primary dark:border-gray-600 dark:bg-background-dark dark:text-white",id:"timezone",value:e.timezone,onChange:e=>s("timezone",e.target.value),children:[(0,Fe.jsx)("option",{children:"(UTC-08:00) Pacific Time"}),(0,Fe.jsx)("option",{children:"(UTC-05:00) Eastern Time"}),(0,Fe.jsx)("option",{children:"(UTC+01:00) Central European Time"})]})]})]})]}),(0,Fe.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-sm dark:bg-gray-800",children:[(0,Fe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Security"}),(0,Fe.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,Fe.jsx)(o,{enabled:e.twoFactorAuth,onToggle:()=>a("twoFactorAuth"),label:"Enable Two-Factor Authentication (2FA)",description:"Require all users to set up 2FA for added security."}),(0,Fe.jsx)(o,{enabled:e.passwordExpiration,onToggle:()=>a("passwordExpiration"),label:"Password Expiration Policy",description:"Force users to reset their passwords periodically."}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),(0,Fe.jsx)("input",{className:"mt-1 block w-full rounded-lg border-gray-300 bg-background-light text-sm focus:border-primary focus:ring-primary dark:border-gray-600 dark:bg-background-dark dark:text-white",id:"sessionTimeout",type:"number",value:e.sessionTimeout,onChange:e=>s("sessionTimeout",parseInt(e.target.value))})]})]})]})]})}),(0,Fe.jsx)("div",{className:"lg:col-span-1",children:(0,Fe.jsxs)("div",{className:"space-y-8",children:[(0,Fe.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-sm dark:bg-gray-800",children:[(0,Fe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Notifications"}),(0,Fe.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,Fe.jsx)(o,{enabled:e.emailNotifications,onToggle:()=>a("emailNotifications"),label:"Email Notifications",description:"Send system notifications via email."}),(0,Fe.jsx)(o,{enabled:e.inAppNotifications,onToggle:()=>a("inAppNotifications"),label:"In-App Notifications",description:"Display notifications within the dashboard."})]})]}),(0,Fe.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-sm dark:bg-gray-800",children:[(0,Fe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Integrations"}),(0,Fe.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"slackApi",children:"Slack API Key"}),(0,Fe.jsx)("input",{className:"mt-1 block w-full rounded-lg border-gray-300 bg-background-light text-sm focus:border-primary focus:ring-primary dark:border-gray-600 dark:bg-background-dark dark:text-white",id:"slackApi",placeholder:"Enter Slack API Key",type:"text",value:e.slackApi,onChange:e=>s("slackApi",e.target.value)})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"githubApi",children:"GitHub API Key"}),(0,Fe.jsx)("input",{className:"mt-1 block w-full rounded-lg border-gray-300 bg-background-light text-sm focus:border-primary focus:ring-primary dark:border-gray-600 dark:bg-background-dark dark:text-white",id:"githubApi",placeholder:"Enter GitHub API Key",type:"text",value:e.githubApi,onChange:e=>s("githubApi",e.target.value)})]})]})]})]})})]})]})},Rg=e=>{let{children:t,onLogout:n}=e;const r=ee(),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=()=>{l(window.innerWidth<768),window.innerWidth<768&&a(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const c=[{name:"Home",href:"/home",icon:(0,Fe.jsx)("svg",{fill:"currentColor",height:"24px",viewBox:"0 0 256 256",width:"24px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0,1.14,1.14,0,0,0,.11.11l80,75.48A16,16,0,0,1,224,115.55Z"})})},{name:"Services",href:"/services",icon:(0,Fe.jsx)("svg",{fill:"currentColor",height:"24px",viewBox:"0 0 256 256",width:"24px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})},{name:"About Us",href:"/about",icon:(0,Fe.jsx)("svg",{fill:"currentColor",height:"24px",viewBox:"0 0 256 256",width:"24px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"})})},{name:"Job Openings",href:"/job-openings",icon:(0,Fe.jsx)("svg",{fill:"currentColor",height:"24px",viewBox:"0 0 256 256",width:"24px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M216,56H176V48a24,24,0,0,0-24-24H104A24,24,0,0,0,80,48v8H40A16,16,0,0,0,24,72V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V72A16,16,0,0,0,216,56ZM96,48a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm120,24V88H40V72Zm0,128H40V104H216v96Z"})})},{name:"Internship Programs",href:"/internship-programs",icon:(0,Fe.jsx)("svg",{fill:"currentColor",height:"24px",viewBox:"0 0 256 256",width:"24px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})},{name:"Contact Management",href:"/contact-management",icon:(0,Fe.jsx)("svg",{fill:"currentColor",height:"24px",viewBox:"0 0 256 256",width:"24px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"})})}];return(0,Fe.jsxs)("div",{className:"flex h-screen relative",children:[o&&s&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 transition-opacity duration-300 ease-out",onClick:()=>a(!1)}),(0,Fe.jsxs)("aside",{className:"\n        fixed md:relative z-50 md:z-auto\n        flex flex-col w-64 h-full\n        bg-gradient-to-b from-white to-gray-50\n        border-r border-gray-200\n        shadow-2xl md:shadow-lg\n        transform transition-all duration-300 ease-out\n        ".concat(s?"translate-x-0":"-translate-x-full md:translate-x-0","\n      "),children:[(0,Fe.jsxs)("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50",children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-3 transform transition-all duration-500 hover:scale-105",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"}),(0,Fe.jsx)("svg",{className:"relative h-8 w-8 text-blue-600 transition-transform duration-300 hover:rotate-12",fill:"currentColor",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M158.9,89.16l-32-18-32,18L26.3,121.84,128,183.33l101.7-61.49ZM128,34,32.23,92.4,128,150.8,223.77,92.4ZM232,104.75v50.5a8,8,0,0,1-4.37,7.26l-96,54.86a7.9,7.9,0,0,1-7.26,0l-96-54.86A8,8,0,0,1,24,155.25v-50.5a8,8,0,0,1,4.37-7.26L52,83.17V144a8,8,0,0,0,16,0V100.8l52.37,29.93a8,8,0,0,0,7.26,0L180,100.8V144a8,8,0,0,0,16,0V83.17l23.63,14.32A8,8,0,0,1,232,104.75Z"})}),(0,Fe.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-bounce shadow-lg"})]}),(0,Fe.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"ApexAdmin"})]}),o&&(0,Fe.jsx)("button",{onClick:()=>a(!1),className:"p-2 rounded-lg hover:bg-white/50 transition-all duration-200 transform hover:scale-110 md:hidden",children:(0,Fe.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsx)("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:c.map((e,t)=>{const n=r.pathname===e.href;return(0,Fe.jsxs)(Ce,{to:e.href,onClick:()=>o&&a(!1),className:"\n                  group flex items-center gap-3 rounded-xl px-4 py-3 font-medium\n                  transition-all duration-300 ease-out\n                  relative overflow-hidden\n                  transform hover:translate-x-1\n                  ".concat(n?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30 scale-105":"text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-700 hover:shadow-md","\n                "),style:{animationDelay:"".concat(.1*t,"s")},children:[n&&(0,Fe.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full animate-pulse"}),(0,Fe.jsx)("div",{className:"\n                  absolute inset-0 bg-gradient-to-r from-blue-400/20 to-indigo-400/20 rounded-xl\n                  opacity-0 group-hover:opacity-100 transition-opacity duration-300\n                  ".concat(n?"opacity-0":"","\n                ")}),(0,Fe.jsx)("div",{className:"\n                  relative z-10 transition-all duration-300\n                  ".concat(n?"scale-110 drop-shadow-sm":"group-hover:scale-110 group-hover:rotate-3","\n                "),children:e.icon}),(0,Fe.jsx)("span",{className:"\n                  relative z-10 transition-all duration-300\n                  ".concat(n?"font-semibold drop-shadow-sm":"group-hover:font-medium","\n                "),children:e.name}),n&&(0,Fe.jsx)("div",{className:"relative z-10 ml-auto",children:(0,Fe.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},e.name)})}),(0,Fe.jsxs)("div",{className:"mt-auto p-4 space-y-2 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50",children:[(0,Fe.jsxs)("button",{onClick:()=>window.location.href="../../Apexsoft/public/index.html",className:"group flex w-full items-center gap-3 rounded-xl px-4 py-3 font-medium text-gray-700 hover:bg-gradient-to-r hover:from-blue-100 hover:to-indigo-100 hover:text-blue-700 hover:shadow-md transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12",children:(0,Fe.jsx)("svg",{fill:"currentColor",height:"20px",viewBox:"0 0 256 256",width:"20px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm40-68a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,148Zm0-32a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,116Z"})})}),(0,Fe.jsx)("span",{className:"transition-all duration-300 group-hover:translate-x-1 group-hover:font-medium",children:"View Website"})]}),(0,Fe.jsxs)(Ce,{to:"/settings",onClick:()=>o&&a(!1),className:"group flex items-center gap-3 rounded-xl px-4 py-3 font-medium transition-all duration-300 transform hover:scale-105 ".concat("/settings"===r.pathname?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-blue-50 hover:text-blue-700 hover:shadow-md"),children:[(0,Fe.jsx)("div",{className:"transition-transform duration-300 ".concat("/settings"===r.pathname?"scale-110":"group-hover:scale-110 group-hover:rotate-12"),children:(0,Fe.jsx)("svg",{fill:"currentColor",height:"20px",viewBox:"0 0 256 256",width:"20px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"})})}),(0,Fe.jsx)("span",{className:"transition-all duration-300 ".concat("/settings"===r.pathname?"font-semibold":"group-hover:translate-x-1 group-hover:font-medium"),children:"Settings"})]}),(0,Fe.jsxs)("button",{onClick:n,className:"group flex w-full items-center gap-3 rounded-xl px-4 py-3 font-medium text-gray-700 hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 hover:text-red-600 hover:shadow-md transition-all duration-300 transform hover:scale-105",children:[(0,Fe.jsx)("div",{className:"transition-transform duration-300 group-hover:scale-110 group-hover:-rotate-12",children:(0,Fe.jsx)("svg",{fill:"currentColor",height:"20px",viewBox:"0 0 256 256",width:"20px",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{d:"M112,216a8,8,0,0,1-8,8H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h56a8,8,0,0,1,0,16H48V208h56A8,8,0,0,1,112,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L196.69,120H104a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,221.66,122.34Z"})})}),(0,Fe.jsx)("span",{className:"transition-all duration-300 group-hover:translate-x-1 group-hover:font-medium",children:"Logout"})]})]})]}),(0,Fe.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Fe.jsxs)("header",{className:"md:hidden bg-gradient-to-r from-white to-blue-50 border-b border-gray-200 px-4 py-3 flex items-center justify-between shadow-sm",children:[(0,Fe.jsx)("button",{onClick:()=>a(!0),className:"p-2 rounded-lg hover:bg-blue-100 transition-all duration-300 transform hover:scale-110",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("svg",{className:"h-6 w-6 text-primary",fill:"currentColor",viewBox:"0 0 256 256",children:(0,Fe.jsx)("path",{d:"M158.9,89.16l-32-18-32,18L26.3,121.84,128,183.33l101.7-61.49ZM128,34,32.23,92.4,128,150.8,223.77,92.4ZM232,104.75v50.5a8,8,0,0,1-4.37,7.26l-96,54.86a7.9,7.9,0,0,1-7.26,0l-96-54.86A8,8,0,0,1,24,155.25v-50.5a8,8,0,0,1,4.37-7.26L52,83.17V144a8,8,0,0,0,16,0V100.8l52.37,29.93a8,8,0,0,0,7.26,0L180,100.8V144a8,8,0,0,0,16,0V83.17l23.63,14.32A8,8,0,0,1,232,104.75Z"})}),(0,Fe.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),(0,Fe.jsx)("span",{className:"font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"ApexAdmin"})]}),(0,Fe.jsx)("div",{className:"w-10"})]}),(0,Fe.jsx)("div",{className:"flex-1 overflow-y-auto animate-fade-in-up",children:t},r.pathname)]})]})},Lg=()=>{const e=ee(),t=ne();return(0,Fe.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[(0,Fe.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Routing Test Panel"}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Current Location: ",(0,Fe.jsx)("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:e.pathname})]})}),(0,Fe.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["/home","/services","/about","/portfolio","/job-openings","/internship-programs","/contact","/settings"].map(n=>(0,Fe.jsx)("button",{onClick:()=>t(n),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(e.pathname===n?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:n},n))}),(0,Fe.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:(0,Fe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Click any button above to test navigation. Current route will be highlighted."})})]})},Og=()=>{const{data:e,loading:t,error:n,refetch:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Ng.collections.CONTACTS,n=_g(t,"submittedAt"),r=Eg(t,"submittedAt");return e?n:r}(!0),{update:s,remove:a}=Sg(Ng.collections.CONTACTS),[o,l]=(0,i.useState)("all"),[c,u]=(0,i.useState)(null),d=async(e,t)=>{try{(await s(e,{status:t})).success||alert("Error updating status. Please try again.")}catch(n){console.error("Error updating contact status:",n),alert("Error updating status. Please try again.")}},h=e.filter(e=>"all"===o||e.status===o),f=e=>{switch(e){case"new":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300";case"in-progress":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"resolved":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}};return t?(0,Fe.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading contacts"}),(0,Fe.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,Fe.jsx)("p",{children:n})}),(0,Fe.jsx)("div",{className:"mt-4",children:(0,Fe.jsx)("button",{onClick:r,className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Try again"})})]})]})})}):(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Contact Management"}),(0,Fe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage contact form submissions from the website"})]}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsxs)("button",{onClick:r,disabled:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors flex items-center gap-2",children:[t?(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),(0,Fe.jsx)("button",{onClick:()=>{console.log("Current contacts state:",e),console.log("Firebase DB instance:",wg),alert("Contacts in state: ".concat(e.length,"\nCheck console for details"))},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Debug Info"}),(0,Fe.jsx)("button",{onClick:async()=>{try{console.log("Testing Firebase connection...");const e=await Ng.createContact({name:"Test Contact",email:"test@example.com",subject:"Test Subject",message:"This is a test message",source:"admin-test"});e.success?(console.log("Test contact added with ID:",e.id),alert("Test contact added successfully! ID: ".concat(e.id))):alert("Error: ".concat(e.error))}catch(n){console.error("Error adding test contact:",n),alert("Error: ".concat(n.message))}},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Add Test Contact"}),(0,Fe.jsx)("button",{onClick:async()=>{try{console.log("Testing data service...");const e=await Ng.getContacts();e.success?(console.log("Data service result:",e.data),alert("Data service found ".concat(e.data.length," contacts. Check console for details."))):alert("Data service error: ".concat(e.error))}catch(n){console.error("Data service error:",n),alert("Data service error: ".concat(n.message))}},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Test Direct Query"})]})]})}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Contacts"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length})]}),(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"New"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>"new"===e.status).length})]}),(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"In Progress"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"in-progress"===e.status).length})]}),(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,Fe.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Resolved"}),(0,Fe.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"resolved"===e.status).length})]})]}),(0,Fe.jsx)("div",{className:"mb-6",children:(0,Fe.jsx)("div",{className:"flex space-x-2",children:["all","new","in-progress","resolved"].map(e=>(0,Fe.jsx)("button",{onClick:()=>l(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(o===e?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:"all"===e?"All":e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")},e))})}),(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:0===h.length?(0,Fe.jsx)("div",{className:"p-8 text-center",children:(0,Fe.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No contacts found."})}):(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Subject"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,Fe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h.map(e=>(0,Fe.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsx)("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:e.subject})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(f(e.status)),children:e.status})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:jg(e.submittedAt)}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>u(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),(0,Fe.jsxs)("select",{value:e.status,onChange:t=>d(e.id,t.target.value),className:"text-xs border rounded px-2 py-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600",children:[(0,Fe.jsx)("option",{value:"new",children:"New"}),(0,Fe.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Fe.jsx)("option",{value:"resolved",children:"Resolved"})]}),(0,Fe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this contact?"))try{(await a(e)).success?u(null):alert("Error deleting contact. Please try again.")}catch(n){console.error("Error deleting contact:",n),alert("Error deleting contact. Please try again.")}})(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},e.id))})]})})}),c&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Fe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Fe.jsxs)("div",{className:"p-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Fe.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Contact Details"}),(0,Fe.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:c.name})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:c.email})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subject"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:c.subject})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Message"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white whitespace-pre-wrap",children:c.message})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Submitted"}),(0,Fe.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:c.submittedAt.toLocaleString()})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),(0,Fe.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(f(c.status)),children:c.status})]})]}),(0,Fe.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,Fe.jsx)("button",{onClick:()=>d(c.id,"resolved"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Mark as Resolved"}),(0,Fe.jsx)("button",{onClick:()=>u(null),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Close"})]})]})})})]})},Mg=()=>{const[e,t]=(0,i.useState)("Testing..."),[n,r]=(0,i.useState)([]),s=e=>{console.log(e),r(t=>[...t,"".concat((new Date).toLocaleTimeString(),": ").concat(e)])};(0,i.useEffect)(()=>{a()},[]);const a=async()=>{try{if(s("Starting Firebase connection test..."),s("Firebase DB instance: ".concat(wg?"OK":"FAILED")),!wg)return void t("FAILED: No Firebase DB instance");s("Firebase app ID: ".concat(wg.app.options.projectId)),s("Firebase app auth domain: ".concat(wg.app.options.authDomain));const e=Cu(wg,"contacts");s("Collection reference created: ".concat(e?"OK":"FAILED")),s("Attempting to read from contacts collection...");const n=await Ad(e);s("Read operation: SUCCESS"),s("Documents found: ".concat(n.size)),n.empty?s("No documents found in collection"):n.forEach(e=>{s("Document ID: ".concat(e.id)),s("Document data: ".concat(JSON.stringify(e.data())))}),t("ALL TESTS PASSED")}catch(e){s("ERROR: ".concat(e.code," - ").concat(e.message)),t("FAILED: ".concat(e.message))}};return(0,Fe.jsx)("div",{className:"p-6",children:(0,Fe.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Fe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Firebase Connection Test"}),(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Connection Status"}),(0,Fe.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(e.includes("PASSED")?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":e.includes("FAILED")?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"),children:e})]}),(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsx)("button",{onClick:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Re-test Connection"}),(0,Fe.jsx)("button",{onClick:async()=>{try{s("Adding test document...");const e=await Pd(Cu(wg,"contacts"),{name:"Firebase Test Contact",email:"test@firebase.com",subject:"Firebase Connection Test",message:"This is a test message to verify Firebase connectivity",status:"new",submittedAt:new Date,source:"firebase-test"});s("Test document added with ID: ".concat(e.id)),await a()}catch(e){s("Error adding test document: ".concat(e.code," - ").concat(e.message))}},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Add Test Document"})]})]}),(0,Fe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,Fe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Test Logs"}),(0,Fe.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-4 max-h-96 overflow-y-auto",children:(0,Fe.jsx)("pre",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:n.join("\n")})})]}),(0,Fe.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Troubleshooting Steps:"}),(0,Fe.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,Fe.jsx)("li",{children:"1. Check if Firebase project is properly configured"}),(0,Fe.jsx)("li",{children:"2. Verify Firestore database is created in Firebase Console"}),(0,Fe.jsx)("li",{children:"3. Check Firestore security rules allow read/write operations"}),(0,Fe.jsx)("li",{children:"4. Ensure internet connection is working"}),(0,Fe.jsx)("li",{children:"5. Check browser console for additional error details"})]})]})]})})};const Fg=new class{constructor(){this.currentUser=null,this.authStateListeners=[],function(e,t,n,r){wt(e).onAuthStateChanged(t,n,r)}(bg,e=>{this.currentUser=e,this.authStateListeners.forEach(t=>t(e))})}async signIn(e,t){try{const n=await function(e,t,n){return Ln(e.app)?Promise.reject(pf(e)):tm(wt(e),Vp.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rm(e),t})}(bg,e,t);return{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}}async signUp(e,t){try{const n=await async function(e,t,n){if(Ln(e.app))return Promise.reject(pf(e));const r=vp(e),i=_p(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gp),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rm(e),t}),a=await Qp._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(bg,e,t);return{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}}async signOut(){try{return await function(e){return wt(e).signOut()}(bg),{success:!0}}catch(e){return{success:!1,error:e.message}}}async resetPassword(e){try{return await async function(e,t,n){const r=vp(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&nm(r,i,n),await _p(r,i,"getOobCode",Dp)}(bg,e),{success:!0}}catch(t){return{success:!1,error:t.message}}}getCurrentUser(){return this.currentUser}isAuthenticated(){return null!==this.currentUser}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(t=>t!==e)}}},Ug=Fg;const Vg=function(){const[e,t]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=localStorage.getItem("authToken"),n=localStorage.getItem("userEmail");e&&n&&t(!0);const r=Ug.onAuthStateChange(n=>{n?(t(!0),localStorage.setItem("authToken","firebase-token"),localStorage.setItem("userEmail",n.email)):e||t(!1)});return()=>r()},[]);const n=async(e,n)=>{try{return(await Ug.signIn(e,n)).success?(t(!0),!0):"apexsofttechnology@gmail.com"===e&&"Apex@8899"===n&&(localStorage.setItem("authToken","dummy-token"),localStorage.setItem("userEmail",e),t(!0),!0)}catch(r){return console.error("Login error:",r),!1}};return e?(0,Fe.jsx)(Se,{children:(0,Fe.jsx)(Rg,{onLogout:async()=>{try{await Ug.signOut(),localStorage.removeItem("authToken"),localStorage.removeItem("userEmail"),t(!1),window.location.href="../../index.html"}catch(e){console.error("Logout error:",e),localStorage.removeItem("authToken"),localStorage.removeItem("userEmail"),t(!1),window.location.href="../../index.html"}},children:(0,Fe.jsxs)(be,{children:[(0,Fe.jsx)(ve,{path:"/",element:(0,Fe.jsx)(ye,{to:"/home",replace:!0})}),(0,Fe.jsx)(ve,{path:"/home",element:(0,Fe.jsx)(Ge,{})}),(0,Fe.jsx)(ve,{path:"/services",element:(0,Fe.jsx)(Tg,{})}),(0,Fe.jsx)(ve,{path:"/about",element:(0,Fe.jsx)(Cg,{})}),(0,Fe.jsx)(ve,{path:"/job-openings",element:(0,Fe.jsx)(Ig,{})}),(0,Fe.jsx)(ve,{path:"/internship-programs",element:(0,Fe.jsx)(Ag,{})}),(0,Fe.jsx)(ve,{path:"/contact",element:(0,Fe.jsx)(Pg,{})}),(0,Fe.jsx)(ve,{path:"/contact-management",element:(0,Fe.jsx)(Og,{})}),(0,Fe.jsx)(ve,{path:"/firebase-test",element:(0,Fe.jsx)(Mg,{})}),(0,Fe.jsx)(ve,{path:"/settings",element:(0,Fe.jsx)(Dg,{})}),(0,Fe.jsx)(ve,{path:"/routing-test",element:(0,Fe.jsx)(Lg,{})}),(0,Fe.jsx)(ve,{path:"*",element:(0,Fe.jsx)(ye,{to:"/home",replace:!0})})]})})}):(0,Fe.jsx)(We,{onLogin:n})};a.createRoot(document.getElementById("root")).render((0,Fe.jsx)(i.StrictMode,{children:(0,Fe.jsx)(Vg,{})}))})();
//# sourceMappingURL=main.bf3beda7.js.map